{
  "version": 3,
  "sources": ["../../src/utils/debug.js", "../../src/utils/reactMount.js", "../../src/utils/async.js", "../../src/components/ProgressBar.js", "../../src/components/Loading.js", "../../src/components/DevOverlay.js", "../../src/app.js", "../../src/boot.js"],
  "sourcesContent": ["// Debug utilities for TVS app\nexport const DEBUG =\n  new URLSearchParams(location.search).get(\"tvsdebug\") === \"1\" ||\n  window.TVS_DEBUG === true ||\n  localStorage.getItem(\"tvsDev\") === \"1\";\n\nexport function log(...args) {\n  if (DEBUG) console.debug(\"[TVS]\", ...args);\n}\n\nexport function err(...args) {\n  console.error(\"[TVS]\", ...args);\n}\n", "// React mount helper paired to the active renderer\nimport { log, err } from './debug.js';\n\nconst hasWindowReact = !!(window.React && window.ReactDOM);\nconst hasWpElement = !!(window.wp && window.wp.element);\nconst wpEl = hasWpElement ? window.wp.element : {};\nconst React = hasWindowReact ? window.React : (wpEl || {});\nconst ReactDOM = hasWindowReact ? window.ReactDOM : (wpEl || null);\n\n// Track mounted roots to safely unmount/re-mount\nconst tvsRoots = new WeakMap();\nconst hasCreateRoot =\n  (ReactDOM && typeof ReactDOM.createRoot === 'function') ||\n  (wpEl && typeof wpEl.createRoot === 'function');\n\nexport function mountReact(Component, props, node) {\n  try {\n    const existingRoot = tvsRoots.get(node);\n    if (existingRoot && typeof existingRoot.unmount === 'function') {\n      existingRoot.unmount();\n      tvsRoots.delete(node);\n    } else if (ReactDOM && typeof ReactDOM.unmountComponentAtNode === 'function') {\n      ReactDOM.unmountComponentAtNode(node);\n    }\n\n    if (hasCreateRoot) {\n      const createRoot = (ReactDOM && ReactDOM.createRoot) || (wpEl && wpEl.createRoot);\n      const root = createRoot(node);\n      tvsRoots.set(node, root);\n      root.render(React.createElement(Component, props));\n      return;\n    }\n\n    const legacyRender = (ReactDOM && ReactDOM.render) || (wpEl && wpEl.render);\n    if (legacyRender) {\n      legacyRender(React.createElement(Component, props), node);\n      return;\n    }\n    err('Ingen render-funksjon tilgjengelig.');\n  } catch (e) {\n    err('Mount feilet:', e);\n  }\n}\n\nexport { React, ReactDOM, wpEl };\n", "// Async helpers for TVS app\nexport function delay(ms) {\n  return new Promise((res) => setTimeout(res, ms));\n}\n\nexport async function withTimeout(promise, ms, label = 'operation') {\n  let timer;\n  try {\n    return await Promise.race([\n      promise,\n      new Promise((_, reject) => {\n        timer = setTimeout(() => reject(new Error(label + ' timed out')), ms);\n      }),\n    ]);\n  } finally {\n    clearTimeout(timer);\n  }\n}\n", "export default function ProgressBar({ React, currentTime, duration }) {\n  const h = React.createElement;\n  const mins = Math.floor(currentTime / 60);\n  const secs = Math.floor(currentTime % 60);\n  const fmt = (m, s) => m + ':' + (s < 10 ? '0' : '') + s;\n  const progress = duration > 0 ? (currentTime / duration) * 100 : 0;\n\n  return h(\n    'div',\n    { className: 'tvs-progress' },\n    h(\n      'div',\n      { className: 'tvs-progress__bar' },\n      h('div', {\n        className: 'tvs-progress__fill',\n        style: { width: Math.min(progress, 100) + '%' },\n      })\n    ),\n    h('div', { className: 'tvs-progress__time' }, fmt(mins, secs) + ' / ' + fmt(Math.floor(duration / 60), Math.floor(duration % 60)))\n  );\n}\n", "import { React } from '../utils/reactMount.js';\n\nexport default function Loading() {\n  const h = React.createElement;\n  return h(\n    'div',\n    { className: 'tvs-loading', role: 'status', 'aria-live': 'polite' },\n    h(\n      'svg',\n      { viewBox: '0 0 64 64', className: 'tvs-runner', 'aria-hidden': 'true' },\n      h('line', { x1: 4, y1: 60, x2: 60, y2: 60, stroke: '#bbb', strokeWidth: 2, className: 'track' }),\n      h('circle', { cx: 26, cy: 12, r: 5, fill: 'none', stroke: '#111', strokeWidth: 2 }),\n      h('line', { x1: 26, y1: 17, x2: 26, y2: 35, stroke: '#111', strokeWidth: 2 }),\n      h('line', { x1: 26, y1: 22, x2: 40, y2: 18, stroke: '#111', strokeWidth: 2, className: 'arm front', style: { transformOrigin: '26px 22px' } }),\n      h('line', { x1: 26, y1: 22, x2: 12, y2: 26, stroke: '#111', strokeWidth: 2, className: 'arm back', style: { transformOrigin: '26px 22px' } }),\n      h('line', { x1: 26, y1: 35, x2: 40, y2: 48, stroke: '#111', strokeWidth: 2, className: 'leg front', style: { transformOrigin: '26px 35px' } }),\n      h('line', { x1: 26, y1: 35, x2: 16, y2: 54, stroke: '#111', strokeWidth: 2, className: 'leg back', style: { transformOrigin: '26px 35px' } })\n    ),\n    h(\n      'div',\n      null,\n      h('div', { className: 'tvs-skel line' }),\n      h('div', { className: 'tvs-skel line sm' }),\n      h('div', null,\n        h('span', { className: 'tvs-skel block' }),\n        h('span', { className: 'tvs-skel block' }),\n        h('span', { className: 'tvs-skel block' })\n      )\n    )\n  );\n}\n", "export default function DevOverlay({ React, routeId, lastStatus, lastError, currentTime, duration }) {\n  const { useEffect, useRef, useState, createElement: h } = React;\n\n  function useFPS(React) {\n    const { useEffect, useRef, useState } = React;\n    const [fps, setFps] = useState(0);\n    const lastTime = useRef(performance.now());\n    const frames = useRef(0);\n\n    useEffect(() => {\n      let raf;\n      const tick = (t) => {\n        frames.current += 1;\n        if (t - lastTime.current >= 1000) {\n          setFps(frames.current);\n          frames.current = 0;\n          lastTime.current = t;\n        }\n        raf = requestAnimationFrame(tick);\n      };\n      raf = requestAnimationFrame(tick);\n      return () => cancelAnimationFrame(raf);\n    }, []);\n    return fps;\n  }\n\n  const fps = useFPS(React);\n  const boxRef = useRef(null);\n  const [min, setMin] = useState(false);\n  const [pos, setPos] = useState({ x: 16, y: 16 });\n\n  useEffect(() => {\n    const el = boxRef.current;\n    if (!el) return;\n    let sx, sy, ox, oy, moving = false;\n\n    function onDown(e) {\n      const header = e.target.closest('.tvs-dev__header');\n      if (!header) return;\n      moving = true;\n      sx = e.clientX; sy = e.clientY; ox = pos.x; oy = pos.y;\n      e.preventDefault();\n    }\n    function onMove(e) { if (!moving) return; setPos({ x: ox + (e.clientX - sx), y: oy + (e.clientY - sy) }); }\n    function onUp() { moving = false; }\n\n    window.addEventListener('mousedown', onDown);\n    window.addEventListener('mousemove', onMove);\n    window.addEventListener('mouseup', onUp);\n    return () => {\n      window.removeEventListener('mousedown', onDown);\n      window.removeEventListener('mousemove', onMove);\n      window.removeEventListener('mouseup', onUp);\n    };\n  }, [pos]);\n\n  const progress = duration > 0 ? ((currentTime / duration) * 100).toFixed(1) : '0.0';\n\n  const data = {\n    env: window.TVS_SETTINGS?.env,\n    version: window.TVS_SETTINGS?.version,\n    restRoot: window.TVS_SETTINGS?.restRoot,\n    user: window.TVS_SETTINGS?.user,\n    routeId,\n    lastStatus: lastStatus || 'idle',\n    lastError: lastError ? String(lastError) : null,\n    currentTime: currentTime ? currentTime.toFixed(1) : '0.0',\n    duration: duration || 0,\n    progress: progress + '%',\n    fps,\n  };\n\n  function row(label, value, isErr) {\n    return h('div', { className: 'tvs-dev__row' },\n      h('span', null, label),\n      h('code', { className: isErr ? 'tvs-dev__err' : '' }, value)\n    );\n  }\n\n  function copy() {\n    navigator.clipboard\n      .writeText(\n        JSON.stringify({ ...data, time: new Date().toISOString() }, null, 2)\n      )\n      .catch(console.error);\n  }\n\n  return h('div', { ref: boxRef, className: `tvs-dev ${min ? 'is-min' : ''}`, style: { left: pos.x + 'px', top: pos.y + 'px' } },\n    h('div', { className: 'tvs-dev__header' },\n      h('strong', null, 'TVS Dev'),\n      h('div', { className: 'tvs-dev__spacer' }),\n      h('span', { className: 'tvs-dev__pill' }, data.env || 'n/a'),\n      h('button', { className: 'tvs-dev__btn', onClick: () => setMin(!min), 'aria-label': 'Minimize' }, '\u2581')\n    ),\n    h('div', { className: 'tvs-dev__body' },\n      row('Route', data.routeId ?? 'n/a'),\n      row('User', data.user ?? 'guest'),\n      row('REST', data.restRoot ?? 'n/a'),\n      row('Status', data.lastStatus),\n      data.lastError ? row('Error', data.lastError, true) : null,\n      row('Duration', data.duration + 's'),\n      row('Current', data.currentTime + 's'),\n      row('Progress', data.progress),\n      row('FPS', String(data.fps)),\n      h('div', { className: 'tvs-dev__actions' },\n        h('button', { onClick: copy, className: 'tvs-dev__btn' }, 'Copy debug'),\n        h('button', { onClick: () => { localStorage.setItem('tvsDev', '0'); location.reload(); }, className: 'tvs-dev__btn tvs-dev__btn--ghost' }, 'Disable')\n      )\n    )\n  );\n}\n", "import { DEBUG, log, err } from './utils/debug.js';\nimport { delay, withTimeout } from './utils/async.js';\nimport { React } from './utils/reactMount.js';\nimport ProgressBar from './components/ProgressBar.js';\nimport Loading from './components/Loading.js';\nimport DevOverlay from './components/DevOverlay.js';\n\nconst slowParam = Number(new URLSearchParams(location.search).get('tvsslow') || 0);\n\nexport default function App({ initialData, routeId }) {\n  const { useEffect, useState, useRef, createElement: h } = React;\n  const [data, setData] = useState(initialData || null);\n  const [error, setError] = useState(null);\n  const [isPosting, setIsPosting] = useState(false);\n  const [isSessionActive, setIsSessionActive] = useState(false);\n  const [sessionStartAt, setSessionStartAt] = useState(null);\n  const [activities, setActivities] = useState([]);\n  const [loadingActivities, setLoadingActivities] = useState(false);\n  const [uploadingId, setUploadingId] = useState(null);\n  const [lastStatus, setLastStatus] = useState(initialData ? 'inline' : 'loading');\n  const [lastError, setLastError] = useState(null);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [isPlayerReady, setIsPlayerReady] = useState(false);\n  const videoRef = useRef(null);\n  const playerRef = useRef(null);\n\n  function showFlash(message, type = 'success') {\n    if (typeof window.tvsFlash === 'function') {\n      window.tvsFlash(message, type);\n    }\n  }\n\n  // Load route data\n  useEffect(() => {\n    const forceFetch = new URLSearchParams(location.search).get('tvsforcefetch') === '1';\n\n    if (data && !forceFetch) {\n      log('Har inline payload, skipper fetch.', data);\n      return;\n    }\n    if (!routeId) {\n      setError('Mangler routeId \u2013 hverken inline payload eller data-route-id.');\n      return;\n    }\n\n    (async () => {\n      try {\n        log('Henter rute via REST:', routeId, ' (tvsslow:', slowParam, 'ms)');\n        setLastStatus('loading');\n        if (slowParam) await delay(slowParam);\n        const r = await fetch(`/wp-json/tvs/v1/routes/${encodeURIComponent(routeId)}`, {\n          credentials: 'same-origin',\n        });\n        const json = await r.json();\n        log('REST OK:', json);\n        setData(json);\n        setLastStatus('ok');\n      } catch (e) {\n        err('REST FAIL:', e);\n        setError('Kunne ikke hente rutedata.');\n        setLastError(e?.message || String(e));\n        setLastStatus('error');\n      }\n    })();\n  }, [routeId]);\n\n  // Load user's activities\n  useEffect(() => {\n    loadActivities();\n  }, []);\n\n  async function loadActivities() {\n    try {\n      setLoadingActivities(true);\n      const url = '/wp-json/tvs/v1/activities/me';\n      const r = await fetch(url, {\n        credentials: 'same-origin',\n        headers: {\n          'X-TVS-Nonce': window.TVS_SETTINGS?.nonce || '',\n        },\n      });\n      if (!r.ok) {\n        throw new Error('Failed to load activities');\n      }\n      const json = await r.json();\n      const activitiesData = Array.isArray(json) ? json : json.activities || [];\n      setActivities(activitiesData);\n    } catch (e) {\n      err('Load activities FAIL:', e);\n      setActivities([]);\n    } finally {\n      setLoadingActivities(false);\n    }\n  }\n\n  // Bind to Vimeo player timeupdate via API\n  useEffect(() => {\n    if (!data) return;\n\n    const iframe = videoRef.current;\n    if (!iframe) return;\n\n    let player = null;\n    let unsubscribed = false;\n\n    function loadVimeoAPI() {\n      return new Promise((resolve, reject) => {\n        if (window.Vimeo && window.Vimeo.Player) return resolve();\n        const existing = document.querySelector('script[src=\"https://player.vimeo.com/api/player.js\"]');\n        if (existing) {\n          existing.addEventListener('load', () => resolve());\n          existing.addEventListener('error', () => reject(new Error('Vimeo API failed to load')));\n          return;\n        }\n        const s = document.createElement('script');\n        s.src = 'https://player.vimeo.com/api/player.js';\n        s.async = true;\n        s.onload = () => resolve();\n        s.onerror = () => reject(new Error('Vimeo API failed to load'));\n        document.head.appendChild(s);\n      });\n    }\n\n    (async () => {\n      try {\n        await loadVimeoAPI();\n        if (unsubscribed) return;\n\n        player = new window.Vimeo.Player(iframe);\n        playerRef.current = player;\n        log('Vimeo Player constructed');\n\n        player.getDuration().catch(() => {});\n\n        try {\n          await player.ready();\n          if (!unsubscribed) {\n            setIsPlayerReady(true);\n            log('Vimeo Player ready');\n          }\n        } catch (e) {\n          err('Vimeo ready() rejected:', e);\n        }\n        player.on('timeupdate', (ev) => {\n          if (typeof ev?.seconds === 'number') {\n            setCurrentTime(ev.seconds);\n          }\n        });\n      } catch (_) {\n        err('Vimeo API init failed');\n      }\n    })();\n\n    return () => {\n      unsubscribed = true;\n      try {\n        if (player && player.off) player.off('timeupdate');\n        if (player && player.destroy) player.destroy();\n      } catch (_) {}\n      playerRef.current = null;\n      setIsPlayerReady(false);\n    };\n  }, [data]);\n\n  async function ensurePlayerReady(timeoutMs = 8000) {\n    const start = Date.now();\n    while (Date.now() - start < timeoutMs) {\n      const p = playerRef.current;\n      if (p) {\n        try {\n          await p.ready();\n          setIsPlayerReady(true);\n          return p;\n        } catch (_) {\n          // keep waiting\n        }\n      }\n      await delay(100);\n    }\n    throw new Error('Video player is not ready');\n  }\n\n  function estimateDistance(durationS) {\n    const meta = data?.meta || {};\n    const routeDur = Number(meta.duration_s || 0);\n    const routeDist = Number(meta.distance_m || 0);\n    if (routeDur > 0 && routeDist > 0 && durationS >= 0) {\n      const ratio = Math.min(1, durationS / routeDur);\n      return Math.round(routeDist * ratio);\n    }\n    return 0;\n  }\n\n  async function startActivitySession() {\n    try {\n      setIsPosting(true);\n      log('Start clicked');\n      const player = await ensurePlayerReady();\n      setLastStatus('starting');\n      try {\n        await withTimeout(player.play(), 4000, 'play()');\n        log('Playback started');\n      } catch (e) {\n        err('play() failed:', e);\n        showFlash('Could not start playback: ' + (e?.message || String(e)), 'error');\n        throw e;\n      }\n      try {\n        const t = await withTimeout(player.getCurrentTime(), 1500, 'getCurrentTime');\n        if (typeof t === 'number' && t > 0.5) {\n          await delay(150);\n          await withTimeout(player.setCurrentTime(0), 2000, 'setCurrentTime(0)');\n          log('Seeked to 0');\n        } else {\n          log('Already at start, skipping seek');\n        }\n      } catch (e) {\n        log('Post-play seek skipped:', e?.message || String(e));\n      }\n      setSessionStartAt(new Date());\n      setIsSessionActive(true);\n      setLastStatus('running');\n      showFlash('Activity started');\n    } catch (e) {\n      err('Start session failed:', e);\n      showFlash('Player not ready yet. Please wait a moment and try again.', 'error');\n      setLastStatus('error');\n    } finally {\n      setIsPosting(false);\n    }\n  }\n\n  async function resumeActivitySession() {\n    try {\n      setIsPosting(true);\n      log('Resume clicked');\n      const player = await ensurePlayerReady();\n      setLastStatus('starting');\n      try {\n        await player.play();\n        log('Playback resumed');\n      } catch (e) {\n        err('resume play() failed:', e);\n        showFlash('Could not resume playback: ' + (e?.message || String(e)), 'error');\n        throw e;\n      }\n      setIsSessionActive(true);\n      setLastStatus('running');\n      showFlash('Activity resumed');\n    } catch (e) {\n      err('Resume session failed:', e);\n      showFlash('Player not ready yet. Please wait a moment and try again.', 'error');\n      setLastStatus('error');\n    } finally {\n      setIsPosting(false);\n    }\n  }\n\n  async function pauseActivitySession() {\n    try {\n      log('Pause clicked');\n      const player = await ensurePlayerReady();\n      try {\n        await player.pause();\n        log('Playback paused');\n      } catch (e) {\n        err('pause() failed:', e);\n        showFlash('Failed to pause: ' + (e?.message || String(e)), 'error');\n        throw e;\n      }\n      setIsSessionActive(false);\n      setLastStatus('paused');\n      showFlash('Activity paused');\n    } catch (e) {\n      err('[TVS] Pause failed:', e);\n      setLastStatus('error');\n    }\n  }\n\n  async function finishAndSaveActivity() {\n    try {\n      setIsPosting(true);\n      log('Finish clicked');\n      const player = await ensurePlayerReady();\n      setLastStatus('saving');\n      try {\n        await player.pause();\n        log('Playback paused before save');\n      } catch (e) {\n        err('pause before save failed:', e);\n      }\n      const seconds = await player.getCurrentTime();\n      const durationS = Math.max(0, Math.floor(seconds || 0));\n      const startISO = sessionStartAt ? sessionStartAt.toISOString() : new Date(Date.now() - durationS * 1000).toISOString();\n      const distanceM = estimateDistance(durationS);\n\n      const payload = {\n        route_id: data.id,\n        route_name: data.title || 'Unknown Route',\n        activity_date: new Date().toISOString(),\n        started_at: startISO,\n        duration_s: durationS,\n        distance_m: distanceM,\n      };\n      const nonce = window.TVS_SETTINGS?.nonce || '';\n\n      if (slowParam) await delay(slowParam);\n\n      const r = await fetch('/wp-json/tvs/v1/activities', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json', 'X-WP-Nonce': nonce },\n        credentials: 'same-origin',\n        body: JSON.stringify(payload),\n      });\n      if (!r.ok) {\n        const res = await r.json();\n        throw new Error(res.message || `HTTP ${r.status}`);\n      }\n      await r.json();\n      showFlash('Activity saved!');\n      setLastStatus('ok');\n      setIsSessionActive(false);\n      setSessionStartAt(null);\n      await loadActivities();\n      window.dispatchEvent(new CustomEvent('tvs:activity-updated'));\n    } catch (e) {\n      err('[TVS] Save activity failed:', e);\n      showFlash('Failed to save activity: ' + (e?.message || String(e)), 'error');\n      setLastError(e?.message || String(e));\n      setLastStatus('error');\n    } finally {\n      setIsPosting(false);\n    }\n  }\n\n  async function uploadToStrava(activityId) {\n    try {\n      setUploadingId(activityId);\n      setLastStatus('uploading');\n      const r = await fetch(`/wp-json/tvs/v1/activities/${activityId}/strava`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-WP-Nonce': window.TVS_SETTINGS?.nonce || '',\n        },\n        credentials: 'same-origin',\n      });\n      const res = await r.json();\n      if (!r.ok) {\n        throw new Error(res.message || 'Upload failed');\n      }\n      showFlash('Uploaded to Strava!');\n      setLastStatus('ok');\n      await loadActivities();\n      window.dispatchEvent(new CustomEvent('tvs:activity-updated'));\n    } catch (e) {\n      err('Strava upload FAIL:', e);\n      showFlash('Failed to upload to Strava: ' + (e?.message || String(e)), 'error');\n      setLastError(e?.message || String(e));\n      setLastStatus('error');\n    } finally {\n      setUploadingId(null);\n    }\n  }\n\n  if (error) return h('div', { className: 'tvs-route tvs-error' }, String(error));\n  if (!data) return React.createElement(Loading, null);\n\n  const title = data.title || 'Route';\n  const meta = data.meta || {};\n  const vimeo = meta.vimeo_id ? String(meta.vimeo_id) : '';\n  const duration = Number(meta.duration_s || 0);\n  const isLoggedIn = !!(window.TVS_SETTINGS?.user);\n\n  return h(\n    'div',\n    { className: 'tvs-app' },\n    h('h2', null, title),\n    vimeo\n      ? h(\n          'div',\n          { className: 'tvs-video' },\n          h('iframe', {\n            ref: videoRef,\n            width: 560,\n            height: 315,\n            src:\n              'https://player.vimeo.com/video/' +\n              encodeURIComponent(vimeo) +\n              '?controls=0&title=0&byline=0&portrait=0&pip=0&playsinline=1&dnt=1&transparent=0&muted=0',\n            frameBorder: 0,\n            allow: 'autoplay; fullscreen; picture-in-picture',\n            allowFullScreen: true,\n          })\n        )\n      : null,\n    (new URLSearchParams(location.search).get('tvsdebug') === '1' || window.TVS_DEBUG === true || localStorage.getItem('tvsDev') === '1')\n      ? h('div', { className: 'tvs-meta' }, h('pre', null, JSON.stringify(meta, null, 2)))\n      : null,\n    h(ProgressBar, { React, currentTime, duration }),\n    h(\n      'div',\n      { style: { display: 'flex', gap: '8px', flexWrap: 'wrap' } },\n      !isLoggedIn\n        ? h(\n            'div',\n            {\n              style: {\n                backgroundColor: '#fef3c7',\n                border: '1px solid #f59e0b',\n                padding: '1rem',\n                margin: '0.5rem 0 0 0',\n                borderRadius: '4px',\n                width: '100%',\n              },\n            },\n            h('strong', null, '\u26A0\uFE0F You must be logged in'),\n            h(\n              'p',\n              { style: { margin: '0.5rem 0 0 0' } },\n              'Please ',\n              h('a', { href: '/login', style: { color: '#1f2937', textDecoration: 'underline' } }, 'log in'),\n              \" to create activities and upload to Strava. Don't have an account? \",\n              h('a', { href: '/register', style: { color: '#1f2937', textDecoration: 'underline' } }, 'Register here'),\n              '.'\n            )\n          )\n        : !isSessionActive\n        ? (\n            currentTime > 0 &&\n            sessionStartAt &&\n            (duration === 0 || currentTime < duration - 0.5)\n              ? [\n                  h(\n                    'button',\n                    {\n                      key: 'resume',\n                      className: 'tvs-btn',\n                      onClick: resumeActivitySession,\n                      disabled: isPosting || !isPlayerReady,\n                    },\n                    isPosting ? h('span', { className: 'tvs-spinner', 'aria-hidden': 'true' }) : null,\n                    isPosting ? ' Starting...' : 'Resume Activity'\n                  ),\n                  h(\n                    'button',\n                    {\n                      key: 'finish',\n                      className: 'tvs-btn',\n                      onClick: finishAndSaveActivity,\n                      disabled: isPosting || !isPlayerReady,\n                      style: { backgroundColor: '#10b981' },\n                    },\n                    isPosting ? h('span', { className: 'tvs-spinner', 'aria-hidden': 'true' }) : null,\n                    isPosting ? ' Saving...' : 'Finish & Save'\n                  ),\n                  h(\n                    'button',\n                    {\n                      key: 'restart',\n                      className: 'tvs-btn',\n                      onClick: startActivitySession,\n                      disabled: isPosting || !isPlayerReady,\n                      style: { backgroundColor: '#334155' },\n                    },\n                    'Restart from 0:00'\n                  ),\n                ]\n              : h(\n                  'button',\n                  {\n                    className: 'tvs-btn',\n                    onClick: startActivitySession,\n                    disabled: isPosting || !isPlayerReady,\n                  },\n                  isPosting ? h('span', { className: 'tvs-spinner', 'aria-hidden': 'true' }) : null,\n                  isPosting ? ' Starting...' : 'Start Activity'\n                )\n          )\n        : [\n            h(\n              'button',\n              {\n                key: 'pause',\n                className: 'tvs-btn',\n                onClick: pauseActivitySession,\n                disabled: isPosting || !isPlayerReady,\n                style: { backgroundColor: '#f59e0b' },\n              },\n              'Pause'\n            ),\n            h(\n              'button',\n              {\n                key: 'finish',\n                className: 'tvs-btn',\n                onClick: finishAndSaveActivity,\n                disabled: isPosting || !isPlayerReady,\n                style: { backgroundColor: '#10b981' },\n              },\n              isPosting ? h('span', { className: 'tvs-spinner', 'aria-hidden': 'true' }) : null,\n              isPosting ? ' Saving...' : 'Finish & Save'\n            ),\n          ]\n    ),\n    DEBUG ? h(DevOverlay, { React, routeId, lastStatus, lastError, currentTime, duration }) : null\n  );\n}\n", "import { mountReact, React } from './utils/reactMount.js';\nimport { DEBUG, log } from './utils/debug.js';\nimport App from './app.js';\n// Note: MyActivitiesStandalone is now mounted by a dedicated block script.\n\n// Enable dev overlay via backtick by setting a flag and reloading when not already in debug\nif (!DEBUG) {\n  document.addEventListener('keydown', (ev) => {\n    if (ev.key === '`') {\n      try {\n        localStorage.setItem('tvsDev', '1');\n      } catch (_) {}\n      location.reload();\n    }\n  });\n}\n\nfunction boot() {\n  const mount = document.getElementById('tvs-app-root');\n  if (mount) {\n    const inline = window.tvs_route_payload || null;\n    const routeId = mount.getAttribute('data-route-id') || (inline && inline.id);\n    log('Boot \u2192 routeId:', routeId, 'inline payload:', !!inline);\n    mountReact(App, { initialData: inline, routeId }, mount);\n  }\n\n  // My Activities blocks are mounted by the block-specific bundle\n}\n\n// Toggle tvsdebug URL via backtick when not already in debug mode\nif (DEBUG) {\n  log('Debug mode enabled.');\n} else {\n  document.addEventListener('keydown', function (ev) {\n    if (ev.key === '`') {\n      const url = new URL(location.href);\n      url.searchParams.set('tvsdebug', '1');\n      location.href = url.toString();\n    }\n  });\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', boot);\n} else {\n  boot();\n}\n"],
  "mappings": "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",
  "names": ["DEBUG", "log", "args", "err", "hasWindowReact", "hasWpElement", "wpEl", "React", "ReactDOM", "tvsRoots", "hasCreateRoot", "mountReact", "Component", "props", "node", "existingRoot", "root", "legacyRender", "err", "e", "delay", "ms", "res", "withTimeout", "promise", "label", "timer", "_", "reject", "ProgressBar", "React", "currentTime", "duration", "h", "mins", "secs", "fmt", "m", "s", "progress", "Loading", "h", "React", "DevOverlay", "React", "routeId", "lastStatus", "lastError", "currentTime", "duration", "useEffect", "useRef", "useState", "h", "useFPS", "fps", "setFps", "lastTime", "frames", "raf", "tick", "t", "boxRef", "min", "setMin", "pos", "setPos", "sx", "sy", "ox", "oy", "moving", "onDown", "e", "onMove", "onUp", "progress", "data", "row", "label", "value", "isErr", "copy", "slowParam", "App", "initialData", "routeId", "useEffect", "useState", "useRef", "h", "React", "data", "setData", "error", "setError", "isPosting", "setIsPosting", "isSessionActive", "setIsSessionActive", "sessionStartAt", "setSessionStartAt", "activities", "setActivities", "loadingActivities", "setLoadingActivities", "uploadingId", "setUploadingId", "lastStatus", "setLastStatus", "lastError", "setLastError", "currentTime", "setCurrentTime", "isPlayerReady", "setIsPlayerReady", "videoRef", "playerRef", "showFlash", "message", "type", "forceFetch", "log", "delay", "json", "err", "loadActivities", "r", "activitiesData", "e", "iframe", "player", "unsubscribed", "loadVimeoAPI", "resolve", "reject", "existing", "s", "ev", "ensurePlayerReady", "timeoutMs", "start", "p", "estimateDistance", "durationS", "meta", "routeDur", "routeDist", "ratio", "startActivitySession", "withTimeout", "t", "resumeActivitySession", "pauseActivitySession", "finishAndSaveActivity", "seconds", "startISO", "distanceM", "payload", "nonce", "res", "uploadToStrava", "activityId", "Loading", "title", "vimeo", "duration", "isLoggedIn", "ProgressBar", "DEBUG", "DevOverlay", "DEBUG", "ev", "boot", "mount", "inline", "routeId", "log", "mountReact", "App", "url"]
}
