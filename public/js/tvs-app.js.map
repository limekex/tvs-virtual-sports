{
  "version": 3,
  "sources": ["../../src/utils/debug.js", "../../src/utils/async.js", "../../src/utils/reactMount.js", "../../src/components/ProgressBar.js", "../../src/components/Loading.js", "../../src/index.js"],
  "sourcesContent": ["// Debug utilities for TVS app\nexport const DEBUG =\n  new URLSearchParams(location.search).get(\"tvsdebug\") === \"1\" ||\n  window.TVS_DEBUG === true ||\n  localStorage.getItem(\"tvsDev\") === \"1\";\n\nexport function log(...args) {\n  if (DEBUG) console.debug(\"[TVS]\", ...args);\n}\n\nexport function err(...args) {\n  console.error(\"[TVS]\", ...args);\n}\n", "// Async helpers for TVS app\nexport function delay(ms) {\n  return new Promise((res) => setTimeout(res, ms));\n}\n\nexport async function withTimeout(promise, ms, label = 'operation') {\n  let timer;\n  try {\n    return await Promise.race([\n      promise,\n      new Promise((_, reject) => {\n        timer = setTimeout(() => reject(new Error(label + ' timed out')), ms);\n      }),\n    ]);\n  } finally {\n    clearTimeout(timer);\n  }\n}\n", "// React mount helper paired to the active renderer\nimport { log, err } from './debug.js';\n\nconst hasWindowReact = !!(window.React && window.ReactDOM);\nconst hasWpElement = !!(window.wp && window.wp.element);\nconst wpEl = hasWpElement ? window.wp.element : {};\nconst React = hasWindowReact ? window.React : (wpEl || {});\nconst ReactDOM = hasWindowReact ? window.ReactDOM : (wpEl || null);\n\n// Track mounted roots to safely unmount/re-mount\nconst tvsRoots = new WeakMap();\nconst hasCreateRoot =\n  (ReactDOM && typeof ReactDOM.createRoot === 'function') ||\n  (wpEl && typeof wpEl.createRoot === 'function');\n\nexport function mountReact(Component, props, node) {\n  try {\n    const existingRoot = tvsRoots.get(node);\n    if (existingRoot && typeof existingRoot.unmount === 'function') {\n      existingRoot.unmount();\n      tvsRoots.delete(node);\n    } else if (ReactDOM && typeof ReactDOM.unmountComponentAtNode === 'function') {\n      ReactDOM.unmountComponentAtNode(node);\n    }\n\n    if (hasCreateRoot) {\n      const createRoot = (ReactDOM && ReactDOM.createRoot) || (wpEl && wpEl.createRoot);\n      const root = createRoot(node);\n      tvsRoots.set(node, root);\n      root.render(React.createElement(Component, props));\n      return;\n    }\n\n    const legacyRender = (ReactDOM && ReactDOM.render) || (wpEl && wpEl.render);\n    if (legacyRender) {\n      legacyRender(React.createElement(Component, props), node);\n      return;\n    }\n    err('Ingen render-funksjon tilgjengelig.');\n  } catch (e) {\n    err('Mount feilet:', e);\n  }\n}\n\nexport { React, ReactDOM, wpEl };\n", "export default function ProgressBar({ React, currentTime, duration }) {\n  const h = React.createElement;\n  const mins = Math.floor(currentTime / 60);\n  const secs = Math.floor(currentTime % 60);\n  const fmt = (m, s) => m + ':' + (s < 10 ? '0' : '') + s;\n  const progress = duration > 0 ? (currentTime / duration) * 100 : 0;\n\n  return h(\n    'div',\n    { className: 'tvs-progress' },\n    h(\n      'div',\n      { className: 'tvs-progress__bar' },\n      h('div', {\n        className: 'tvs-progress__fill',\n        style: { width: Math.min(progress, 100) + '%' },\n      })\n    ),\n    h('div', { className: 'tvs-progress__time' }, fmt(mins, secs) + ' / ' + fmt(Math.floor(duration / 60), Math.floor(duration % 60)))\n  );\n}\n", "export default function Loading(React) {\n  const h = React.createElement;\n  return h(\n    'div',\n    { className: 'tvs-loading', role: 'status', 'aria-live': 'polite' },\n    h(\n      'svg',\n      { viewBox: '0 0 64 64', className: 'tvs-runner', 'aria-hidden': 'true' },\n      h('line', { x1: 4, y1: 60, x2: 60, y2: 60, stroke: '#bbb', strokeWidth: 2, className: 'track' }),\n      h('circle', { cx: 26, cy: 12, r: 5, fill: 'none', stroke: '#111', strokeWidth: 2 }),\n      h('line', { x1: 26, y1: 17, x2: 26, y2: 35, stroke: '#111', strokeWidth: 2 }),\n      h('line', { x1: 26, y1: 22, x2: 40, y2: 18, stroke: '#111', strokeWidth: 2, className: 'arm front', style: { transformOrigin: '26px 22px' } }),\n      h('line', { x1: 26, y1: 22, x2: 12, y2: 26, stroke: '#111', strokeWidth: 2, className: 'arm back', style: { transformOrigin: '26px 22px' } }),\n      h('line', { x1: 26, y1: 35, x2: 40, y2: 48, stroke: '#111', strokeWidth: 2, className: 'leg front', style: { transformOrigin: '26px 35px' } }),\n      h('line', { x1: 26, y1: 35, x2: 16, y2: 54, stroke: '#111', strokeWidth: 2, className: 'leg back', style: { transformOrigin: '26px 35px' } })\n    ),\n    h(\n      'div',\n      null,\n      h('div', { className: 'tvs-skel line' }),\n      h('div', { className: 'tvs-skel line sm' }),\n      h('div', null,\n        h('span', { className: 'tvs-skel block' }),\n        h('span', { className: 'tvs-skel block' }),\n        h('span', { className: 'tvs-skel block' })\n      )\n    )\n  );\n}\n", "/* TVS Virtual Sports \u2013 React mount with debug + dev overlay (bundled entry) */\nimport { DEBUG, log, err } from './utils/debug.js';\nimport { delay, withTimeout } from './utils/async.js';\nimport { mountReact, React } from './utils/reactMount.js';\nimport ProgressBar from './components/ProgressBar.js';\nimport Loading from './components/Loading.js';\n\n(function () {\n  // ---------- helpers ----------\n  const qs = (sel, ctx) => (ctx || document).querySelector(sel);\n  const param = (k) => new URLSearchParams(location.search).get(k);\n\n  if (!DEBUG) {\n    document.addEventListener(\"keydown\", (ev) => {\n      if (ev.key === \"`\") {\n        localStorage.setItem(\"tvsDev\", \"1\");\n        location.reload();\n      }\n    });\n  }\n\n    const slowParam = Number(new URLSearchParams(location.search).get(\"tvsslow\") || 0);\n\n  async function withTimeout(promise, ms, label = 'operation') {\n    let timer;\n    try {\n      return await Promise.race([\n        promise,\n        new Promise((_, reject) => {\n          timer = setTimeout(() => reject(new Error(label + ' timed out')), ms);\n        }),\n      ]);\n    } finally {\n      clearTimeout(timer);\n    }\n  }\n\n  // ---------- formatTime helper ----------\n  function formatTime(seconds) {\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return mins + \":\" + (secs < 10 ? \"0\" : \"\") + secs;\n  }\n\n  // ProgressBar and Loading moved to components/\n\n  // --- DevOverlay (avansert, beholdt \u00E9n versjon) ---\n  function useFPS(React) {\n    const { useEffect, useRef, useState } = React;\n    const [fps, setFps] = useState(0);\n    const lastTime = useRef(performance.now());\n    const frames = useRef(0);\n\n    useEffect(() => {\n      let raf;\n      const tick = (t) => {\n        frames.current += 1;\n        if (t - lastTime.current >= 1000) {\n          setFps(frames.current);\n          frames.current = 0;\n          lastTime.current = t;\n        }\n        raf = requestAnimationFrame(tick);\n      };\n      raf = requestAnimationFrame(tick);\n      return () => cancelAnimationFrame(raf);\n    }, []);\n    return fps;\n  }\n\n  function DevOverlay({ React, routeId, lastStatus, lastError, currentTime, duration }) {\n    const { useEffect, useRef, useState, createElement: h } = React;\n    const fps = useFPS(React);\n    const boxRef = useRef(null);\n    const [min, setMin] = useState(false);\n    const [pos, setPos] = useState({ x: 16, y: 16 });\n\n    useEffect(() => {\n      const el = boxRef.current;\n      if (!el) return;\n      let sx, sy, ox, oy, moving = false;\n\n      function onDown(e) {\n        const header = e.target.closest(\".tvs-dev__header\");\n        if (!header) return;\n        moving = true;\n        sx = e.clientX;\n        sy = e.clientY;\n        ox = pos.x;\n        oy = pos.y;\n        e.preventDefault();\n      }\n      function onMove(e) {\n        if (!moving) return;\n        setPos({ x: ox + (e.clientX - sx), y: oy + (e.clientY - sy) });\n      }\n      function onUp() {\n        moving = false;\n      }\n\n      window.addEventListener(\"mousedown\", onDown);\n      window.addEventListener(\"mousemove\", onMove);\n      window.addEventListener(\"mouseup\", onUp);\n      return () => {\n        window.removeEventListener(\"mousedown\", onDown);\n        window.removeEventListener(\"mousemove\", onMove);\n        window.removeEventListener(\"mouseup\", onUp);\n      };\n    }, [pos]);\n\n    const progress = duration > 0 ? ((currentTime / duration) * 100).toFixed(1) : \"0.0\";\n\n    const data = {\n      env: window.TVS_SETTINGS?.env,\n      version: window.TVS_SETTINGS?.version,\n      restRoot: window.TVS_SETTINGS?.restRoot,\n      user: window.TVS_SETTINGS?.user,\n      routeId,\n      lastStatus: lastStatus || \"idle\",\n      lastError: lastError ? String(lastError) : null,\n      currentTime: currentTime ? currentTime.toFixed(1) : \"0.0\",\n      duration: duration || 0,\n      progress: progress + \"%\",\n      fps,\n    };\n\n    function copy() {\n      navigator.clipboard\n        .writeText(\n          JSON.stringify(\n            {\n              ...data,\n              time: new Date().toISOString(),\n            },\n            null,\n            2\n          )\n        )\n        .catch(console.error);\n    }\n\n    return h(\n      \"div\",\n      {\n        ref: boxRef,\n        className: `tvs-dev ${min ? \"is-min\" : \"\"}`,\n        style: { left: pos.x + \"px\", top: pos.y + \"px\" },\n      },\n      h(\n        \"div\",\n        { className: \"tvs-dev__header\" },\n        h(\"strong\", null, \"TVS Dev\"),\n        h(\"div\", { className: \"tvs-dev__spacer\" }),\n        h(\"span\", { className: \"tvs-dev__pill\" }, data.env || \"n/a\"),\n        h(\n          \"button\",\n          { className: \"tvs-dev__btn\", onClick: () => setMin(!min), \"aria-label\": \"Minimize\" },\n          \"\u2581\"\n        )\n      ),\n      h(\n        \"div\",\n        { className: \"tvs-dev__body\" },\n        row(\"Route\", data.routeId ?? \"n/a\"),\n        row(\"User\", data.user ?? \"guest\"),\n        row(\"REST\", data.restRoot ?? \"n/a\"),\n        row(\"Status\", data.lastStatus),\n        data.lastError ? row(\"Error\", data.lastError, true) : null,\n        row(\"Duration\", data.duration + \"s\"),\n        row(\"Current\", data.currentTime + \"s\"),\n        row(\"Progress\", data.progress),\n        row(\"FPS\", String(data.fps)),\n        h(\n          \"div\",\n          { className: \"tvs-dev__actions\" },\n          h(\"button\", { onClick: copy, className: \"tvs-dev__btn\" }, \"Copy debug\"),\n          h(\n            \"button\",\n            {\n              onClick: () => {\n                localStorage.setItem(\"tvsDev\", \"0\");\n                location.reload();\n              },\n              className: \"tvs-dev__btn tvs-dev__btn--ghost\",\n            },\n            \"Disable\"\n          )\n        )\n      )\n    );\n\n    function row(label, value, isErr) {\n      return React.createElement(\n        \"div\",\n        { className: \"tvs-dev__row\" },\n        React.createElement(\"span\", null, label),\n        React.createElement(\"code\", { className: isErr ? \"tvs-dev__err\" : \"\" }, value)\n      );\n    }\n  }\n\n  // ---------- App ----------\n  function App({ initialData, routeId }) {\n    const { useEffect, useState, useRef, createElement: h } = React;\n    const [data, setData] = useState(initialData || null);\n    const [error, setError] = useState(null);\n    const [isPosting, setIsPosting] = useState(false);\n    const [isSessionActive, setIsSessionActive] = useState(false);\n    const [sessionStartAt, setSessionStartAt] = useState(null);\n    const [activities, setActivities] = useState([]);\n    const [loadingActivities, setLoadingActivities] = useState(false);\n    const [uploadingId, setUploadingId] = useState(null);\n    const [lastStatus, setLastStatus] = useState(initialData ? \"inline\" : \"loading\");\n    const [lastError, setLastError] = useState(null);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [isPlayerReady, setIsPlayerReady] = useState(false);\n    const videoRef = useRef(null);\n    const playerRef = useRef(null);\n    \n    // Flash message helper\n    function showFlash(message, type = 'success') {\n      window.tvsFlash(message, type);\n    }\n\n    // Load route data\n    useEffect(() => {\n      const forceFetch =\n        new URLSearchParams(location.search).get(\"tvsforcefetch\") === \"1\";\n\n      if (data && !forceFetch) {\n        log(\"Har inline payload, skipper fetch.\", data);\n        return;\n      }\n      if (!routeId) {\n        setError(\"Mangler routeId \u2013 hverken inline payload eller data-route-id.\");\n        return;\n      }\n\n      (async () => {\n        try {\n          log(\"Henter rute via REST:\", routeId, \" (tvsslow:\", slowParam, \"ms)\");\n          setLastStatus(\"loading\");\n          if (slowParam) await delay(slowParam);\n          const r = await fetch(\n            `/wp-json/tvs/v1/routes/${encodeURIComponent(routeId)}`,\n            { credentials: \"same-origin\" }\n          );\n          const json = await r.json();\n          log(\"REST OK:\", json);\n          setData(json);\n          setLastStatus(\"ok\");\n        } catch (e) {\n          err(\"REST FAIL:\", e);\n          setError(\"Kunne ikke hente rutedata.\");\n          setLastError(e?.message || String(e));\n          setLastStatus(\"error\");\n        }\n      })();\n    }, [routeId]);\n\n    // Load user's activities\n    useEffect(() => {\n      loadActivities();\n    }, []);\n\n    async function loadActivities() {\n      try {\n        setLoadingActivities(true);\n        const url = \"/wp-json/tvs/v1/activities/me\";\n        const r = await fetch(url, {\n          credentials: \"same-origin\",\n          headers: {\n            \"X-TVS-Nonce\": window.TVS_SETTINGS?.nonce || \"\"\n          }\n        });\n        if (!r.ok) {\n          throw new Error(\"Failed to load activities\");\n        }\n        const json = await r.json();\n        const activitiesData = Array.isArray(json) ? json : (json.activities || []);\n        setActivities(activitiesData);\n      } catch (e) {\n        err(\"Load activities FAIL:\", e);\n        setActivities([]);\n      } finally {\n        setLoadingActivities(false);\n      }\n    }\n\n    // Bind to Vimeo player timeupdate via API\n    useEffect(() => {\n      if (!data) return;\n\n      const iframe = videoRef.current;\n      if (!iframe) return;\n\n      let player = null;\n      let unsubscribed = false;\n\n      function loadVimeoAPI() {\n        return new Promise((resolve, reject) => {\n          if (window.Vimeo && window.Vimeo.Player) return resolve();\n          const existing = document.querySelector('script[src=\"https://player.vimeo.com/api/player.js\"]');\n          if (existing) {\n            existing.addEventListener('load', () => resolve());\n            existing.addEventListener('error', () => reject(new Error('Vimeo API failed to load')));\n            return;\n          }\n          const s = document.createElement('script');\n          s.src = 'https://player.vimeo.com/api/player.js';\n          s.async = true;\n          s.onload = () => resolve();\n          s.onerror = () => reject(new Error('Vimeo API failed to load'));\n          document.head.appendChild(s);\n        });\n      }\n\n      (async () => {\n        try {\n          await loadVimeoAPI();\n          if (unsubscribed) return;\n          \n          player = new window.Vimeo.Player(iframe);\n          playerRef.current = player;\n          log('Vimeo Player constructed');\n\n          // Prime duration from API if route meta is missing\n          player.getDuration().then((d) => {\n            if (!Number(data?.meta?.duration_s) && typeof d === 'number' && d > 0) {\n              // optional: update display only\n            }\n          }).catch(() => {});\n\n          // Ready and timeupdate\n          try {\n            await player.ready();\n            if (!unsubscribed) {\n              setIsPlayerReady(true);\n              log('Vimeo Player ready');\n            }\n          } catch (e) {\n            err('Vimeo ready() rejected:', e);\n          }\n          player.on('timeupdate', (ev) => {\n            if (typeof ev?.seconds === 'number') {\n              setCurrentTime(ev.seconds);\n            }\n          });\n        } catch (_) {\n          err('Vimeo API init failed');\n        }\n      })();\n\n      return () => {\n        unsubscribed = true;\n        try {\n          if (player && player.off) player.off('timeupdate');\n          if (player && player.destroy) player.destroy();\n        } catch (_) {}\n        playerRef.current = null;\n        setIsPlayerReady(false);\n      };\n    }, [data]);\n\n    async function ensurePlayerReady(timeoutMs = 8000) {\n      const start = Date.now();\n      while (Date.now() - start < timeoutMs) {\n        const p = playerRef.current;\n        if (p) {\n          try {\n            await p.ready();\n            setIsPlayerReady(true);\n            return p;\n          } catch (e) {\n            // keep waiting\n          }\n        }\n        await delay(100);\n      }\n      throw new Error('Video player is not ready');\n    }\n\n    function estimateDistance(durationS) {\n      const meta = data?.meta || {};\n      const routeDur = Number(meta.duration_s || 0);\n      const routeDist = Number(meta.distance_m || 0);\n      if (routeDur > 0 && routeDist > 0 && durationS >= 0) {\n        const ratio = Math.min(1, durationS / routeDur);\n        return Math.round(routeDist * ratio);\n      }\n      return 0;\n    }\n\n    async function startActivitySession() {\n      try {\n        setIsPosting(true);\n        log('Start clicked');\n        const player = await ensurePlayerReady();\n        setLastStatus(\"starting\");\n        // Try playing first, then seek to 0. Some embeds hang on seek before play.\n        try {\n          await withTimeout(player.play(), 4000, 'play()');\n          log('Playback started');\n        } catch (e) {\n          err('play() failed:', e);\n          showFlash('Could not start playback: ' + (e?.message || String(e)), 'error');\n          throw e;\n        }\n        // After playback starts, if we're already near 0 skip seeking to avoid flicker.\n        try {\n          const t = await withTimeout(player.getCurrentTime(), 1500, 'getCurrentTime');\n          if (typeof t === 'number' && t > 0.5) {\n            // Give the player a brief moment before seeking to reduce visual flicker.\n            await delay(150);\n            await withTimeout(player.setCurrentTime(0), 2000, 'setCurrentTime(0)');\n            log('Seeked to 0');\n          } else {\n            log('Already at start, skipping seek');\n          }\n        } catch (e) {\n          log('Post-play seek skipped:', e?.message || String(e));\n        }\n        setSessionStartAt(new Date());\n        setIsSessionActive(true);\n        setLastStatus(\"running\");\n        showFlash('Activity started');\n      } catch (e) {\n        err(\"Start session failed:\", e);\n        showFlash(\"Player not ready yet. Please wait a moment and try again.\", 'error');\n        setLastStatus(\"error\");\n      } finally {\n        setIsPosting(false);\n      }\n    }\n\n    async function resumeActivitySession() {\n      try {\n        setIsPosting(true);\n        log('Resume clicked');\n        const player = await ensurePlayerReady();\n        setLastStatus('starting');\n        try {\n          await player.play();\n          log('Playback resumed');\n        } catch (e) {\n          err('resume play() failed:', e);\n          showFlash('Could not resume playback: ' + (e?.message || String(e)), 'error');\n          throw e;\n        }\n        setIsSessionActive(true);\n        setLastStatus('running');\n        showFlash('Activity resumed');\n      } catch (e) {\n        err('Resume session failed:', e);\n        showFlash(\"Player not ready yet. Please wait a moment and try again.\", 'error');\n        setLastStatus('error');\n      } finally {\n        setIsPosting(false);\n      }\n    }\n\n    async function pauseActivitySession() {\n      try {\n        log('Pause clicked');\n        const player = await ensurePlayerReady();\n        try {\n          await player.pause();\n          log('Playback paused');\n        } catch (e) {\n          err('pause() failed:', e);\n          showFlash('Failed to pause: ' + (e?.message || String(e)), 'error');\n          throw e;\n        }\n        setIsSessionActive(false);\n        setLastStatus(\"paused\");\n        showFlash('Activity paused');\n      } catch (e) {\n        err('[TVS] Pause failed:', e);\n        setLastStatus(\"error\");\n      }\n    }\n\n    async function finishAndSaveActivity() {\n      try {\n        setIsPosting(true);\n        log('Finish clicked');\n        const player = await ensurePlayerReady();\n        setLastStatus(\"saving\");\n        try {\n          await player.pause();\n          log('Playback paused before save');\n        } catch (e) {\n          err('pause before save failed:', e);\n        }\n        const seconds = await player.getCurrentTime();\n        const durationS = Math.max(0, Math.floor(seconds || 0));\n        const startISO = sessionStartAt ? sessionStartAt.toISOString() : new Date(Date.now() - durationS * 1000).toISOString();\n        const distanceM = estimateDistance(durationS);\n\n        const payload = {\n          route_id: data.id,\n          route_name: data.title || \"Unknown Route\",\n          activity_date: new Date().toISOString(),\n          started_at: startISO,\n          duration_s: durationS,\n          distance_m: distanceM,\n        };\n        const nonce = window.TVS_SETTINGS?.nonce || \"\";\n\n        if (slowParam) await delay(slowParam);\n\n        const r = await fetch(\"/wp-json/tvs/v1/activities\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\", \"X-WP-Nonce\": nonce },\n          credentials: \"same-origin\",\n          body: JSON.stringify(payload),\n        });\n        if (!r.ok) {\n          const res = await r.json();\n          throw new Error(res.message || `HTTP ${r.status}`);\n        }\n        const res = await r.json();\n        showFlash(\"Activity saved!\");\n        setLastStatus(\"ok\");\n        setIsSessionActive(false);\n        setSessionStartAt(null);\n        await loadActivities();\n        window.dispatchEvent(new CustomEvent('tvs:activity-updated'));\n      } catch (e) {\n        err('[TVS] Save activity failed:', e);\n        showFlash(\"Failed to save activity: \" + (e?.message || String(e)), 'error');\n        setLastError(e?.message || String(e));\n        setLastStatus(\"error\");\n      } finally {\n        setIsPosting(false);\n      }\n    }\n\n    async function uploadToStrava(activityId) {\n      try {\n        setUploadingId(activityId);\n        setLastStatus(\"uploading\");\n        const r = await fetch(`/wp-json/tvs/v1/activities/${activityId}/strava`, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"X-WP-Nonce\": window.TVS_SETTINGS?.nonce || \"\"\n          },\n          credentials: \"same-origin\",\n        });\n        const res = await r.json();\n        if (!r.ok) {\n          throw new Error(res.message || \"Upload failed\");\n        }\n        showFlash(\"Uploaded to Strava!\");\n        setLastStatus(\"ok\");\n        await loadActivities();\n        window.dispatchEvent(new CustomEvent('tvs:activity-updated'));\n      } catch (e) {\n        err(\"Strava upload FAIL:\", e);\n        showFlash(\"Failed to upload to Strava: \" + (e?.message || String(e)), 'error');\n        setLastError(e?.message || String(e));\n        setLastStatus(\"error\");\n      } finally {\n        setUploadingId(null);\n      }\n    }\n\n    if (error) return h(\"div\", { className: \"tvs-route tvs-error\" }, String(error));\n    if (!data) return React.createElement(Loading, null);\n\n    const title = data.title || \"Route\";\n    const meta = data.meta || {};\n    const vimeo = meta.vimeo_id ? String(meta.vimeo_id) : \"\";\n    const duration = Number(meta.duration_s || 0);\n    const isLoggedIn = !!(window.TVS_SETTINGS?.user);\n\n    return h(\n      \"div\",\n      { className: \"tvs-app\" },\n      h(\"h2\", null, title),\n      vimeo\n        ? h(\n            \"div\",\n            { className: \"tvs-video\" },\n            h(\"iframe\", {\n              ref: videoRef,\n              width: 560,\n              height: 315,\n              src:\n                \"https://player.vimeo.com/video/\" +\n                encodeURIComponent(vimeo) +\n                \"?controls=0&title=0&byline=0&portrait=0&pip=0&playsinline=1&dnt=1&transparent=0&muted=0\",\n              frameBorder: 0,\n              allow: \"autoplay; fullscreen; picture-in-picture\",\n              allowFullScreen: true,\n            })\n          )\n        : null,\n      (new URLSearchParams(location.search).get(\"tvsdebug\") === \"1\" || window.TVS_DEBUG === true || localStorage.getItem(\"tvsDev\") === \"1\")\n        ? h(\"div\", { className: \"tvs-meta\" }, h(\"pre\", null, JSON.stringify(meta, null, 2)))\n        : null,\n      h(ProgressBar, { React, currentTime, duration }),\n      h(\n        \"div\",\n        { style: { display: 'flex', gap: '8px', flexWrap: 'wrap' } },\n        !isLoggedIn\n          ? (\n              h(\n                \"div\",\n                {\n                  style: {\n                    backgroundColor: \"#fef3c7\",\n                    border: \"1px solid #f59e0b\",\n                    padding: \"1rem\",\n                    margin: \"0.5rem 0 0 0\",\n                    borderRadius: \"4px\",\n                    width: '100%'\n                  },\n                },\n                h(\"strong\", null, \"\u26A0\uFE0F You must be logged in\"),\n                h(\n                  \"p\",\n                  { style: { margin: \"0.5rem 0 0 0\" } },\n                  \"Please \",\n                  h(\"a\", { href: \"/login\", style: { color: '#1f2937', textDecoration: 'underline' } }, \"log in\"),\n                  \" to create activities and upload to Strava. Don't have an account? \",\n                  h(\"a\", { href: \"/register\", style: { color: '#1f2937', textDecoration: 'underline' } }, \"Register here\"),\n                  \".\"\n                )\n              )\n            )\n          : !isSessionActive\n          ? (\n              (currentTime > 0 && sessionStartAt && (duration === 0 || currentTime < duration - 0.5))\n                ? [\n                    h(\n                      \"button\",\n                      {\n                        key: 'resume',\n                        className: \"tvs-btn\",\n                        onClick: resumeActivitySession,\n                         disabled: isPosting || !isPlayerReady,\n                      },\n                      isPosting ? h(\"span\", { className: \"tvs-spinner\", \"aria-hidden\": \"true\" }) : null,\n                      isPosting ? \" Starting...\" : \"Resume Activity\"\n                    ),\n                    h(\n                      \"button\",\n                      {\n                        key: 'finish',\n                        className: \"tvs-btn\",\n                        onClick: finishAndSaveActivity,\n                          disabled: isPosting || !isPlayerReady,\n                        style: { backgroundColor: '#10b981' }\n                      },\n                      isPosting ? h(\"span\", { className: \"tvs-spinner\", \"aria-hidden\": \"true\" }) : null,\n                      isPosting ? \" Saving...\" : \"Finish & Save\"\n                    ),\n                    h(\n                      \"button\",\n                      {\n                        key: 'restart',\n                        className: \"tvs-btn\",\n                        onClick: startActivitySession,\n                          disabled: isPosting || !isPlayerReady,\n                        style: { backgroundColor: '#334155' }\n                      },\n                      \"Restart from 0:00\"\n                    )\n                  ]\n                 : h(\n                     \"button\",\n                     {\n                       className: \"tvs-btn\",\n                        onClick: startActivitySession,\n                        disabled: isPosting || !isPlayerReady,\n                     },\n                     isPosting ? h(\"span\", { className: \"tvs-spinner\", \"aria-hidden\": \"true\" }) : null,\n                     isPosting ? \" Starting...\" : \"Start Activity\"\n                   )\n             )\n           : [\n               h(\n                 \"button\",\n                 {\n                   key: 'pause',\n                   className: \"tvs-btn\",\n                   onClick: pauseActivitySession,\n                     disabled: isPosting || !isPlayerReady,\n                   style: { backgroundColor: \"#f59e0b\" },\n                 },\n                 \"Pause\"\n               ),\n               h(\n                 \"button\",\n                 {\n                   key: 'finish',\n                   className: \"tvs-btn\",\n                   onClick: finishAndSaveActivity,\n                     disabled: isPosting || !isPlayerReady,\n                   style: { backgroundColor: \"#10b981\" },\n                 },\n                 isPosting\n                   ? h(\"span\", { className: \"tvs-spinner\", \"aria-hidden\": \"true\" })\n                   : null,\n                 isPosting ? \" Saving...\" : \"Finish & Save\"\n               )\n             ]\n      ),\n      DEBUG ? h(DevOverlay, { React, routeId, lastStatus, lastError, currentTime, duration }) : null\n    );\n  }\n\n  // MyActivities Component (shared between main app and standalone block)\n  function MyActivities({ React, activities, loadingActivities, uploadToStrava, uploadingId }) {\n    const { useState, createElement: h } = React;\n    const [min, setMin] = useState(false);\n    \n    // Show only the 5 most recent activities\n    const recentActivities = activities.slice(0, 5);\n    \n    return h(\n      \"div\",\n      {\n        className: \"tvs-activities-block\",\n        style: { marginTop: \"1rem\", border: \"1px solid #e5e7eb\", borderRadius: \"8px\", background: \"#fff\", padding: \"1rem\" }\n      },\n      h(\n        \"div\",\n        { style: { display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\", marginBottom: \"1rem\" } },\n        h(\"h3\", { style: { margin: 0, fontSize: \"1.25rem\" } }, \"Recent Activities\"),\n        h(\n          \"button\",\n          {\n            onClick: () => setMin(!min),\n            style: { fontSize: \"1.2em\", background: \"none\", border: \"none\", cursor: \"pointer\", color: \"#666\" },\n            \"aria-label\": min ? \"Expand\" : \"Minimize\"\n          },\n          min ? \"\u25B8\" : \"\u25BE\"\n        )\n      ),\n      min\n        ? null\n        : loadingActivities\n        ? h(\"p\", { style: { color: \"#666\" } }, \"Loading activities...\")\n        : recentActivities.length === 0\n        ? h(\"p\", { style: { color: \"#666\" } }, \"Start a new activity when you're ready\")\n        : h(\n            \"div\",\n            null,\n            h(\n              \"div\",\n              { className: \"tvs-activities-list\", style: { marginBottom: \"1rem\" } },\n              recentActivities.map((activity) =>\n                h(ActivityCard, {\n                  key: activity.id,\n                  activity,\n                  uploadToStrava,\n                  uploading: uploadingId === activity.id,\n                  React,\n                  compact: true\n                })\n              )\n            ),\n            h(\n              \"div\",\n              { style: { textAlign: \"center\", paddingTop: \"0.5rem\", borderTop: \"1px solid #e5e7eb\" } },\n              h(\n                \"a\",\n                {\n                  href: \"/my-activities\",\n                  style: { color: \"#2563eb\", textDecoration: \"none\", fontSize: \"0.9rem\" }\n                },\n                \"Go to my activities \u2192\"\n              )\n            )\n          )\n    );\n  }\n\n  // Activity Card Component\n  function ActivityCard({ activity, uploadToStrava, uploading, React, compact, dummy }) {\n    const { createElement: h } = React;\n    const meta = activity.meta || {};\n    const activityId = activity.id;\n    \n    const syncedStrava = meta._tvs_synced_strava?.[0] || meta.synced_strava?.[0];\n    const stravaRemoteId = meta._tvs_strava_remote_id?.[0] || meta.strava_activity_id?.[0];\n    const isSynced = syncedStrava === \"1\" || syncedStrava === 1;\n    \n    const distance = meta._tvs_distance_m?.[0] || meta.distance_m?.[0] || 0;\n    const duration = meta._tvs_duration_s?.[0] || meta.duration_s?.[0] || 0;\n    const routeId = meta._tvs_route_id?.[0] || meta.route_id?.[0];\n    const routeName = meta._tvs_route_name?.[0] || meta.route_name?.[0] || \"Unknown Route\";\n    const activityDate = meta._tvs_activity_date?.[0] || meta.activity_date?.[0] || activity.date || \"\";\n    \n    // Format date nicely\n    let formattedDate = \"\";\n    if (activityDate) {\n      try {\n        const date = new Date(activityDate);\n        formattedDate = date.toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' });\n      } catch (e) {\n        formattedDate = activityDate;\n      }\n    }\n    \n    const activityTitle = formattedDate ? `${routeName} (${formattedDate})` : routeName;\n    \n    if (compact) {\n      const { useState } = React;\n      const [showPopover, setShowPopover] = useState(false);\n      \n      if (dummy) {\n        return h(\n          \"div\",\n          {\n            className: \"tvs-activity-card-compact\",\n            style: {\n              padding: \"0.75rem\",\n              marginBottom: \"0.5rem\",\n              borderRadius: \"4px\",\n              background: \"linear-gradient(90deg, #f3f4f6 60%, #e5e7eb 100%)\",\n              fontSize: \"0.9rem\",\n              position: \"relative\",\n              opacity: 0.6,\n              filter: \"grayscale(0.7)\",\n              pointerEvents: \"none\"\n            },\n          },\n          h(\"div\", { style: { display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", gap: \"0.5rem\" } },\n            h(\"div\", { style: { flex: 1, minWidth: 0 } },\n              h(\"div\", { style: { fontWeight: \"500\", marginBottom: \"0.25rem\" } }, activityTitle),\n              h(\"div\", { style: { fontSize: \"0.85rem\", color: \"#888\" } },\n                distance > 0 ? (distance / 1000).toFixed(2) + \" km\" : \"\",\n                distance > 0 && duration > 0 ? \" \u00B7 \" : \"\",\n                duration > 0 ? Math.floor(duration / 60) + \" min\" : \"\"\n              )\n            ),\n            h(\"div\", { style: { display: \"flex\", alignItems: \"center\", gap: \"0.5rem\", flexShrink: 0 } },\n              h(\"span\", { style: { color: \"#bbb\", fontSize: \"1.5rem\", lineHeight: 1, display: \"flex\", alignItems: \"center\" }, title: \"Preview\" }, \"\u2713\"),\n              h(\"div\", { style: { width: \"32px\", height: \"32px\", borderRadius: \"4px\", backgroundColor: \"#e5e7eb\", color: \"#ccc\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\", fontWeight: \"bold\" } }, \"S\")\n            )\n          )\n        );\n      }\n      \n      return h(\n        \"div\",\n        {\n          className: \"tvs-activity-card-compact\",\n          style: {\n            padding: \"0.75rem\",\n            marginBottom: \"0.5rem\",\n            borderRadius: \"4px\",\n            backgroundColor: \"#f9fafb\",\n            fontSize: \"0.9rem\",\n            position: \"relative\"\n          },\n        },\n        h(\"div\", { style: { display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", gap: \"0.5rem\" } },\n          h(\"div\", { style: { flex: 1, minWidth: 0 } },\n            h(\"div\", { style: { fontWeight: \"500\", marginBottom: \"0.25rem\" } }, activityTitle),\n            h(\"div\", { style: { fontSize: \"0.85rem\", color: \"#666\" } },\n              distance > 0 ? (distance / 1000).toFixed(2) + \" km\" : \"\",\n              distance > 0 && duration > 0 ? \" \u00B7 \" : \"\",\n              duration > 0 ? Math.floor(duration / 60) + \" min\" : \"\"\n            )\n          ),\n          h(\"div\", { style: { display: \"flex\", alignItems: \"center\", gap: \"0.5rem\", flexShrink: 0 } },\n            isSynced\n              ? h(\"span\", { \n                  style: { \n                    color: \"#10b981\", \n                    fontSize: \"1.5rem\",\n                    lineHeight: 1,\n                    display: \"flex\",\n                    alignItems: \"center\"\n                  },\n                  title: \"Synced to Strava\"\n                }, \"\u2713\")\n              : null,\n            h(\"div\", { style: { position: \"relative\" } },\n              isSynced\n                ? h(\n                    \"a\",\n                    {\n                      href: stravaRemoteId ? \"https://www.strava.com/activities/\" + stravaRemoteId : \"#\",\n                      target: \"_blank\",\n                      rel: \"noopener noreferrer\",\n                      title: \"View on Strava\",\n                      style: {\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        width: \"32px\",\n                        height: \"32px\",\n                        borderRadius: \"4px\",\n                        backgroundColor: \"#fc4c02\",\n                        color: \"white\",\n                        textDecoration: \"none\",\n                        fontSize: \"0.9rem\",\n                        fontWeight: \"bold\"\n                      }\n                    },\n                    \"S\"\n                  )\n                : h(\n                    \"button\",\n                    {\n                      onClick: (e) => {\n                        e.stopPropagation();\n                        setShowPopover(!showPopover);\n                      },\n                      disabled: uploading,\n                      title: \"Upload to Strava\",\n                      style: {\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        width: \"32px\",\n                        height: \"32px\",\n                        borderRadius: \"4px\",\n                        backgroundColor: uploading ? \"#ccc\" : \"#fc4c02\",\n                        color: \"white\",\n                        border: \"none\",\n                        cursor: uploading ? \"wait\" : \"pointer\",\n                        fontSize: \"0.9rem\",\n                        fontWeight: \"bold\"\n                      }\n                    },\n                    uploading ? \"...\" : \"S\"\n                  ),\n              showPopover && !isSynced && !uploading\n                ? h(\n                    \"div\",\n                    {\n                      style: {\n                        position: \"absolute\",\n                        right: 0,\n                        top: \"calc(100% + 0.5rem)\",\n                        backgroundColor: \"white\",\n                        border: \"1px solid #e5e7eb\",\n                        borderRadius: \"8px\",\n                        padding: \"0.75rem\",\n                        boxShadow: \"0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06)\",\n                        zIndex: 1000,\n                        minWidth: \"200px\",\n                        whiteSpace: \"nowrap\"\n                      }\n                    },\n                    h(\"div\", { style: { fontSize: \"0.9rem\", marginBottom: \"0.5rem\", color: \"#374151\" } }, \"Upload to Strava?\"),\n                    h(\"div\", { style: { display: \"flex\", gap: \"0.5rem\" } },\n                      h(\n                        \"button\",\n                        {\n                          onClick: (e) => {\n                            e.stopPropagation();\n                            setShowPopover(false);\n                            uploadToStrava(activityId);\n                          },\n                          style: {\n                            flex: 1,\n                            padding: \"0.5rem 0.75rem\",\n                            backgroundColor: \"#fc4c02\",\n                            color: \"white\",\n                            border: \"none\",\n                            borderRadius: \"4px\",\n                            cursor: \"pointer\",\n                            fontSize: \"0.85rem\",\n                            fontWeight: \"500\"\n                          }\n                        },\n                        \"Upload\"\n                      ),\n                      h(\n                        \"button\",\n                        {\n                          onClick: (e) => {\n                            e.stopPropagation();\n                            setShowPopover(false);\n                          },\n                          style: {\n                            flex: 1,\n                            padding: \"0.5rem 0.75rem\",\n                            backgroundColor: \"#f3f4f6\",\n                            color: \"#374151\",\n                            border: \"none\",\n                            borderRadius: \"4px\",\n                            cursor: \"pointer\",\n                            fontSize: \"0.85rem\"\n                          }\n                        },\n                        \"Cancel\"\n                      )\n                    )\n                  )\n                : null\n            )\n          )\n        ),\n        showPopover\n          ? h(\"div\", {\n              style: {\n                position: \"fixed\",\n                inset: 0,\n                zIndex: 999\n              },\n              onClick: () => setShowPopover(false)\n            })\n          : null\n      );\n    }\n    \n    return h(\n      \"div\",\n      {\n        className: \"tvs-activity-card\",\n        style: {\n          border: \"1px solid #ddd\",\n          padding: \"1rem\",\n          marginBottom: \"1rem\",\n          borderRadius: \"4px\",\n          backgroundColor: isSynced ? \"#f0f9ff\" : \"#fff\"\n        },\n      },\n      h(\"div\", { style: { display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" } },\n        h(\"div\", null,\n          h(\"strong\", null, activityTitle),\n          h(\"div\", { style: { marginTop: \"0.5rem\", fontSize: \"0.9rem\", color: \"#666\" } },\n            distance > 0 ? h(\"span\", null, \"Distance: \" + (distance / 1000).toFixed(2) + \" km \") : null,\n            duration > 0 ? h(\"span\", null, \"Duration: \" + Math.floor(duration / 60) + \" min\") : null\n          )\n        ),\n        h(\"div\", null,\n          isSynced\n            ? h(\n                \"div\",\n                { style: { textAlign: \"right\" } },\n                h(\"span\", { style: { color: \"#10b981\", fontWeight: \"bold\" } }, \"\u2713 Synced to Strava\"),\n                stravaRemoteId\n                  ? h(\n                      \"a\",\n                      {\n                        href: \"https://www.strava.com/activities/\" + stravaRemoteId,\n                        target: \"_blank\",\n                        rel: \"noopener noreferrer\",\n                        style: { display: \"block\", marginTop: \"0.25rem\", fontSize: \"0.85rem\" }\n                      },\n                      \"View on Strava \u2192\"\n                    )\n                  : null\n              )\n            : h(\n                \"button\",\n                {\n                  className: \"tvs-btn tvs-btn-strava\",\n                  onClick: () => uploadToStrava(activityId),\n                  disabled: uploading,\n                  style: {\n                    backgroundColor: \"#fc4c02\",\n                    color: \"white\",\n                    border: \"none\",\n                    padding: \"0.5rem 1rem\",\n                    borderRadius: \"4px\",\n                    cursor: uploading ? \"wait\" : \"pointer\",\n                    opacity: uploading ? 0.6 : 1\n                  }\n                },\n                uploading ? \"Uploading...\" : \"Upload to Strava\"\n              )\n        )\n      )\n    );\n  }\n\n  // ---------- boot ----------\n  function boot() {\n    const mount = document.getElementById(\"tvs-app-root\");\n    if (mount) {\n      const inline = window.tvs_route_payload || null;\n      const routeId = mount.getAttribute(\"data-route-id\") || (inline && inline.id);\n      log(\"Boot \u2192 routeId:\", routeId, \"inline payload:\", !!inline);\n      mountReact(App, { initialData: inline, routeId }, mount);\n    }\n\n    if (window.tvsMyActivitiesMount && Array.isArray(window.tvsMyActivitiesMount)) {\n      window.tvsMyActivitiesMount.forEach((mountId) => {\n        const blockMount = document.getElementById(mountId);\n        if (blockMount) {\n          log(\"Mounting MyActivities block on:\", mountId);\n          mountReact(MyActivitiesStandalone, {}, blockMount);\n        }\n      });\n    }\n  }\n\n  function MyActivitiesStandalone() {\n    const { useState, useEffect, createElement: h } = React;\n    const [activities, setActivities] = useState([]);\n    const [loadingActivities, setLoadingActivities] = useState(false);\n    const [uploadingId, setUploadingId] = useState(null);\n    const isLoggedIn = !!(window.TVS_SETTINGS?.user);\n\n    useEffect(() => {\n      if (!isLoggedIn) return;\n      loadActivities();\n      const handleActivityUpdate = () => {\n        if (DEBUG) console.info('[TVS] MyActivitiesStandalone: Received activity update event, reloading...');\n        loadActivities();\n      };\n      window.addEventListener('tvs:activity-updated', handleActivityUpdate);\n      return () => {\n        window.removeEventListener('tvs:activity-updated', handleActivityUpdate);\n      };\n    }, []);\n\n    async function loadActivities() {\n      try {\n        setLoadingActivities(true);\n        const url = \"/wp-json/tvs/v1/activities/me\";\n        const r = await fetch(url, {\n          credentials: \"same-origin\",\n          headers: {\n            \"X-TVS-Nonce\": window.TVS_SETTINGS?.nonce || \"\"\n          }\n        });\n        if (!r.ok) {\n          throw new Error(\"Failed to load activities\");\n        }\n        const json = await r.json();\n        const activitiesData = Array.isArray(json) ? json : (json.activities || []);\n        setActivities(activitiesData);\n      } catch (e) {\n        err(\"Load activities FAIL:\", e);\n        setActivities([]);\n      } finally {\n        setLoadingActivities(false);\n      }\n    }\n\n    async function uploadToStrava(activityId) {\n      try {\n        setUploadingId(activityId);\n        const r = await fetch(`/wp-json/tvs/v1/activities/${activityId}/strava`, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"X-WP-Nonce\": window.TVS_SETTINGS?.nonce || \"\"\n          },\n          credentials: \"same-origin\",\n        });\n        const res = await r.json();\n        if (!r.ok) {\n          throw new Error(res.message || \"Upload failed\");\n        }\n        window.tvsFlash(\"Uploaded to Strava!\");\n        await loadActivities();\n        window.dispatchEvent(new CustomEvent('tvs:activity-updated'));\n      } catch (e) {\n        err(\"Strava upload FAIL:\", e);\n        window.tvsFlash(\"Failed to upload to Strava: \" + (e?.message || String(e)), 'error');\n      } finally {\n        setUploadingId(null);\n      }\n    }\n\n    if (!isLoggedIn) {\n      const dummyActivities = Array.from({ length: 3 }).map((_, i) => ({\n        id: 'dummy-' + i,\n        meta: {\n          _tvs_route_name: [\"Sample Route \" + (i + 1)],\n          _tvs_activity_date: [new Date(Date.now() - i * 86400000).toISOString()],\n          _tvs_distance_m: [Math.round(5000 + Math.random() * 5000)],\n          _tvs_duration_s: [Math.round(1200 + Math.random() * 1800)],\n        }\n      }));\n      return h(\n        \"div\",\n        { className: \"tvs-activities-block\", style: { marginTop: \"1rem\", border: \"1px solid #e5e7eb\", borderRadius: \"8px\", background: \"#fff\", padding: \"1rem\" } },\n        h(\"h3\", { style: { marginTop: 0 } }, \"My Activities\"),\n        h(\n          \"div\",\n          { className: \"tvs-activities-list\", style: { marginBottom: \"1rem\" } },\n          dummyActivities.map((activity) =>\n            h(ActivityCard, {\n              key: activity.id,\n              activity,\n              React,\n              compact: true,\n              dummy: true\n            })\n          )\n        ),\n        h(\n          \"div\",\n          { style: { textAlign: \"center\", color: \"#888\", fontSize: \"0.95rem\", marginBottom: \"0.5rem\" } },\n          \"Sign in to see your recent activities.\"\n        ),\n        h(\n          \"div\",\n          { style: { textAlign: \"center\" } },\n          h(\n            \"a\",\n            { href: \"/login\", style: { color: '#1f2937', textDecoration: 'underline', marginRight: 12 } },\n            \"Log in\"\n          ),\n          h(\n            \"a\",\n            { href: \"/register\", style: { color: '#1f2937', textDecoration: 'underline' } },\n            \"Register\"\n          )\n        )\n      );\n    }\n\n    return h(MyActivities, { React, activities, loadingActivities, uploadToStrava, uploadingId });\n  }\n\n  // toggle overlay via ` (backtick)\n  if (DEBUG) {\n    log(\"Debug mode enabled.\");\n  } else {\n    document.addEventListener(\"keydown\", function (ev) {\n      if (ev.key === \"`\") {\n        const url = new URL(location.href);\n        url.searchParams.set(\"tvsdebug\", \"1\");\n        location.href = url.toString();\n      }\n    });\n  }\n\n  if (document.readyState === \"loading\") {\n    document.addEventListener(\"DOMContentLoaded\", boot);\n  } else {\n    boot();\n  }\n})();"],
  "mappings": "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",
  "names": ["DEBUG", "log", "args", "err", "delay", "ms", "res", "hasWindowReact", "hasWpElement", "wpEl", "React", "ReactDOM", "tvsRoots", "hasCreateRoot", "mountReact", "Component", "props", "node", "existingRoot", "root", "legacyRender", "err", "e", "ProgressBar", "React", "currentTime", "duration", "h", "mins", "secs", "fmt", "m", "s", "progress", "Loading", "React", "h", "qs", "sel", "ctx", "param", "k", "DEBUG", "ev", "slowParam", "withTimeout", "promise", "ms", "label", "timer", "reject", "formatTime", "seconds", "mins", "secs", "useFPS", "React", "useEffect", "useRef", "useState", "fps", "setFps", "lastTime", "frames", "raf", "tick", "t", "DevOverlay", "routeId", "lastStatus", "lastError", "currentTime", "duration", "h", "boxRef", "min", "setMin", "pos", "setPos", "sx", "sy", "ox", "oy", "moving", "onDown", "e", "onMove", "onUp", "progress", "data", "copy", "row", "value", "isErr", "App", "initialData", "setData", "error", "setError", "isPosting", "setIsPosting", "isSessionActive", "setIsSessionActive", "sessionStartAt", "setSessionStartAt", "activities", "setActivities", "loadingActivities", "setLoadingActivities", "uploadingId", "setUploadingId", "setLastStatus", "setLastError", "setCurrentTime", "isPlayerReady", "setIsPlayerReady", "videoRef", "playerRef", "showFlash", "message", "type", "forceFetch", "log", "delay", "json", "err", "loadActivities", "r", "activitiesData", "iframe", "player", "unsubscribed", "loadVimeoAPI", "resolve", "existing", "s", "d", "ensurePlayerReady", "timeoutMs", "start", "p", "estimateDistance", "durationS", "meta", "routeDur", "routeDist", "ratio", "startActivitySession", "resumeActivitySession", "pauseActivitySession", "finishAndSaveActivity", "startISO", "distanceM", "payload", "nonce", "res", "uploadToStrava", "activityId", "Loading", "title", "vimeo", "isLoggedIn", "ProgressBar", "MyActivities", "recentActivities", "activity", "ActivityCard", "uploading", "compact", "dummy", "syncedStrava", "stravaRemoteId", "isSynced", "distance", "routeName", "activityDate", "formattedDate", "activityTitle", "showPopover", "setShowPopover", "boot", "mount", "inline", "mountReact", "mountId", "blockMount", "MyActivitiesStandalone", "handleActivityUpdate", "dummyActivities", "_", "i", "url"]
}
