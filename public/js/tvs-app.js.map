{
  "version": 3,
  "sources": ["../../src/index.js"],
  "sourcesContent": ["/* TVS Virtual Sports \u2013 React mount with debug + dev overlay (bundled entry) */\n(function () {\n  // ---------- helpers ----------\n  const qs = (sel, ctx) => (ctx || document).querySelector(sel);\n  const param = (k) => new URLSearchParams(location.search).get(k);\n  const DEBUG =\n    new URLSearchParams(location.search).get(\"tvsdebug\") === \"1\" ||\n    window.TVS_DEBUG === true ||\n    localStorage.getItem(\"tvsDev\") === \"1\";\n\n  if (!DEBUG) {\n    document.addEventListener(\"keydown\", (ev) => {\n      if (ev.key === \"`\") {\n        localStorage.setItem(\"tvsDev\", \"1\");\n        location.reload();\n      }\n    });\n  }\n\n    function log(...args) {\n    if (DEBUG) console.debug(\"[TVS]\", ...args);\n  }\n  function err(...args) {\n    console.error(\"[TVS]\", ...args);\n  }\n\n  // ---------- React mount helper ----------\n  // Always pair React with its matching renderer to avoid mismatches\n  const hasWindowReact = !!(window.React && window.ReactDOM);\n  const hasWpElement = !!(window.wp && window.wp.element);\n  const wpEl = hasWpElement ? window.wp.element : {};\n  const React = hasWindowReact ? window.React : (wpEl || {});\n  const ReactDOM = hasWindowReact ? window.ReactDOM : (wpEl || null);\n\n  // Track mounted roots to safely unmount/re-mount without DOM desyncs\n  const tvsRoots = new WeakMap();\n\n  // createRoot compatibility: use what's available from the chosen renderer\n  const hasCreateRoot =\n    (ReactDOM && typeof ReactDOM.createRoot === \"function\") ||\n    (wpEl && typeof wpEl.createRoot === \"function\");\n\n  function mountReact(Component, props, node) {\n    try {\n      // If we already mounted a root here, unmount it first to prevent React from\n      // attempting to reconcile against DOM mutated elsewhere (e.g., WordPress, third-party)\n      const existingRoot = tvsRoots.get(node);\n      if (existingRoot && typeof existingRoot.unmount === 'function') {\n        existingRoot.unmount();\n        tvsRoots.delete(node);\n      } else if (ReactDOM && typeof ReactDOM.unmountComponentAtNode === 'function') {\n        // Legacy unmount fallback\n        ReactDOM.unmountComponentAtNode(node);\n      }\n\n      if (hasCreateRoot) {\n        const createRoot = (ReactDOM && ReactDOM.createRoot) || (wpEl && wpEl.createRoot);\n        const root = createRoot(node);\n        tvsRoots.set(node, root);\n        root.render(React.createElement(Component, props));\n        return;\n      }\n      // fallback legacy render\n      const legacyRender = (ReactDOM && ReactDOM.render) || (wpEl && wpEl.render);\n      if (legacyRender) {\n        legacyRender(React.createElement(Component, props), node);\n        return;\n      }\n      err(\"Ingen render-funksjon tilgjengelig.\");\n    } catch (e) {\n      err(\"Mount feilet:\", e);\n    }\n  }\n\n  const slowParam = Number(new URLSearchParams(location.search).get(\"tvsslow\") || 0);\n  function delay(ms) {\n    return new Promise((res) => setTimeout(res, ms));\n  }\n\n  // ---------- formatTime helper ----------\n  function formatTime(seconds) {\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return mins + \":\" + (secs < 10 ? \"0\" : \"\") + secs;\n  }\n\n  // ---------- ProgressBar component ----------\n  function ProgressBar({ React, currentTime, duration }) {\n    const h = React.createElement;\n    const progress = duration > 0 ? (currentTime / duration) * 100 : 0;\n    \n    return h(\n      \"div\",\n      { className: \"tvs-progress\" },\n      h(\n        \"div\",\n        { className: \"tvs-progress__bar\" },\n        h(\"div\", {\n          className: \"tvs-progress__fill\",\n          style: { width: Math.min(progress, 100) + \"%\" }\n        })\n      ),\n      h(\n        \"div\",\n        { className: \"tvs-progress__time\" },\n        formatTime(currentTime) + \" / \" + formatTime(duration)\n      )\n    );\n  }\n\n  // ---------- Loading (spinner/skeleton) ----------\n  function Loading() {\n    const h = React.createElement;\n    return h(\n      \"div\",\n      { className: \"tvs-loading\", role: \"status\", \"aria-live\": \"polite\" },\n      // L\u00F8peren (ren inline SVG, animert via CSS)\n      h(\n        \"svg\",\n        { viewBox: \"0 0 64 64\", className: \"tvs-runner\", \"aria-hidden\": \"true\" },\n        // Track (bakken)\n        h(\"line\", { x1: 4, y1: 60, x2: 60, y2: 60, stroke: \"#bbb\", strokeWidth: 2, className: \"track\" }),\n        // Hode\n        h(\"circle\", { cx: 26, cy: 12, r: 5, fill: \"none\", stroke: \"#111\", strokeWidth: 2 }),\n        // Kropp\n        h(\"line\", { x1: 26, y1: 17, x2: 26, y2: 35, stroke: \"#111\", strokeWidth: 2 }),\n        // Armer\n        h(\"line\", { x1: 26, y1: 22, x2: 40, y2: 18, stroke: \"#111\", strokeWidth: 2, className: \"arm front\", style: { transformOrigin: \"26px 22px\" } }),\n        h(\"line\", { x1: 26, y1: 22, x2: 12, y2: 26, stroke: \"#111\", strokeWidth: 2, className: \"arm back\", style: { transformOrigin: \"26px 22px\" } }),\n        // Bein\n        h(\"line\", { x1: 26, y1: 35, x2: 40, y2: 48, stroke: \"#111\", strokeWidth: 2, className: \"leg front\", style: { transformOrigin: \"26px 35px\" } }),\n        h(\"line\", { x1: 26, y1: 35, x2: 16, y2: 54, stroke: \"#111\", strokeWidth: 2, className: \"leg back\", style: { transformOrigin: \"26px 35px\" } })\n      ),\n      // Skeleton\u2013tekst\n      h(\n        \"div\",\n        null,\n        h(\"div\", { className: \"tvs-skel line\" }),\n        h(\"div\", { className: \"tvs-skel line sm\" }),\n        h(\n          \"div\",\n          null,\n          h(\"span\", { className: \"tvs-skel block\" }),\n          h(\"span\", { className: \"tvs-skel block\" }),\n          h(\"span\", { className: \"tvs-skel block\" })\n        )\n      )\n    );\n  }\n\n  // --- DevOverlay (avansert, beholdt \u00E9n versjon) ---\n  function useFPS(React) {\n    const { useEffect, useRef, useState } = React;\n    const [fps, setFps] = useState(0);\n    const lastTime = useRef(performance.now());\n    const frames = useRef(0);\n\n    useEffect(() => {\n      let raf;\n      const tick = (t) => {\n        frames.current += 1;\n        if (t - lastTime.current >= 1000) {\n          setFps(frames.current);\n          frames.current = 0;\n          lastTime.current = t;\n        }\n        raf = requestAnimationFrame(tick);\n      };\n      raf = requestAnimationFrame(tick);\n      return () => cancelAnimationFrame(raf);\n    }, []);\n    return fps;\n  }\n\n  function DevOverlay({ React, routeId, lastStatus, lastError, currentTime, duration }) {\n    const { useEffect, useRef, useState, createElement: h } = React;\n    const fps = useFPS(React);\n    const boxRef = useRef(null);\n    const [min, setMin] = useState(false);\n    const [pos, setPos] = useState({ x: 16, y: 16 });\n\n    useEffect(() => {\n      const el = boxRef.current;\n      if (!el) return;\n      let sx, sy, ox, oy, moving = false;\n\n      function onDown(e) {\n        const header = e.target.closest(\".tvs-dev__header\");\n        if (!header) return;\n        moving = true;\n        sx = e.clientX;\n        sy = e.clientY;\n        ox = pos.x;\n        oy = pos.y;\n        e.preventDefault();\n      }\n      function onMove(e) {\n        if (!moving) return;\n        setPos({ x: ox + (e.clientX - sx), y: oy + (e.clientY - sy) });\n      }\n      function onUp() {\n        moving = false;\n      }\n\n      window.addEventListener(\"mousedown\", onDown);\n      window.addEventListener(\"mousemove\", onMove);\n      window.addEventListener(\"mouseup\", onUp);\n      return () => {\n        window.removeEventListener(\"mousedown\", onDown);\n        window.removeEventListener(\"mousemove\", onMove);\n        window.removeEventListener(\"mouseup\", onUp);\n      };\n    }, [pos]);\n\n    const progress = duration > 0 ? ((currentTime / duration) * 100).toFixed(1) : \"0.0\";\n\n    const data = {\n      env: window.TVS_SETTINGS?.env,\n      version: window.TVS_SETTINGS?.version,\n      restRoot: window.TVS_SETTINGS?.restRoot,\n      user: window.TVS_SETTINGS?.user,\n      routeId,\n      lastStatus: lastStatus || \"idle\",\n      lastError: lastError ? String(lastError) : null,\n      currentTime: currentTime ? currentTime.toFixed(1) : \"0.0\",\n      duration: duration || 0,\n      progress: progress + \"%\",\n      fps,\n    };\n\n    function copy() {\n      navigator.clipboard\n        .writeText(\n          JSON.stringify(\n            {\n              ...data,\n              time: new Date().toISOString(),\n            },\n            null,\n            2\n          )\n        )\n        .catch(console.error);\n    }\n\n    return h(\n      \"div\",\n      {\n        ref: boxRef,\n        className: `tvs-dev ${min ? \"is-min\" : \"\"}`,\n        style: { left: pos.x + \"px\", top: pos.y + \"px\" },\n      },\n      h(\n        \"div\",\n        { className: \"tvs-dev__header\" },\n        h(\"strong\", null, \"TVS Dev\"),\n        h(\"div\", { className: \"tvs-dev__spacer\" }),\n        h(\"span\", { className: \"tvs-dev__pill\" }, data.env || \"n/a\"),\n        h(\n          \"button\",\n          { className: \"tvs-dev__btn\", onClick: () => setMin(!min), \"aria-label\": \"Minimize\" },\n          \"\u2581\"\n        )\n      ),\n      h(\n        \"div\",\n        { className: \"tvs-dev__body\" },\n        row(\"Route\", data.routeId ?? \"n/a\"),\n        row(\"User\", data.user ?? \"guest\"),\n        row(\"REST\", data.restRoot ?? \"n/a\"),\n        row(\"Status\", data.lastStatus),\n        data.lastError ? row(\"Error\", data.lastError, true) : null,\n        row(\"Duration\", data.duration + \"s\"),\n        row(\"Current\", data.currentTime + \"s\"),\n        row(\"Progress\", data.progress),\n        row(\"FPS\", String(data.fps)),\n        h(\n          \"div\",\n          { className: \"tvs-dev__actions\" },\n          h(\"button\", { onClick: copy, className: \"tvs-dev__btn\" }, \"Copy debug\"),\n          h(\n            \"button\",\n            {\n              onClick: () => {\n                localStorage.setItem(\"tvsDev\", \"0\");\n                location.reload();\n              },\n              className: \"tvs-dev__btn tvs-dev__btn--ghost\",\n            },\n            \"Disable\"\n          )\n        )\n      )\n    );\n\n    function row(label, value, isErr) {\n      return React.createElement(\n        \"div\",\n        { className: \"tvs-dev__row\" },\n        React.createElement(\"span\", null, label),\n        React.createElement(\"code\", { className: isErr ? \"tvs-dev__err\" : \"\" }, value)\n      );\n    }\n  }\n\n  // ---------- App ----------\n  function App({ initialData, routeId }) {\n    const { useEffect, useState, useRef, createElement: h } = React;\n    const [data, setData] = useState(initialData || null);\n    const [error, setError] = useState(null);\n    const [isPosting, setIsPosting] = useState(false);\n    const [isSessionActive, setIsSessionActive] = useState(false);\n    const [sessionStartAt, setSessionStartAt] = useState(null);\n    const [activities, setActivities] = useState([]);\n    const [loadingActivities, setLoadingActivities] = useState(false);\n    const [uploadingId, setUploadingId] = useState(null);\n    const [lastStatus, setLastStatus] = useState(initialData ? \"inline\" : \"loading\");\n    const [lastError, setLastError] = useState(null);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [isPlayerReady, setIsPlayerReady] = useState(false);\n    const videoRef = useRef(null);\n    const playerRef = useRef(null);\n    \n    // Flash message helper\n    function showFlash(message, type = 'success') {\n      window.tvsFlash(message, type);\n    }\n\n    // Load route data\n    useEffect(() => {\n      const forceFetch =\n        new URLSearchParams(location.search).get(\"tvsforcefetch\") === \"1\";\n\n      if (data && !forceFetch) {\n        log(\"Har inline payload, skipper fetch.\", data);\n        return;\n      }\n      if (!routeId) {\n        setError(\"Mangler routeId \u2013 hverken inline payload eller data-route-id.\");\n        return;\n      }\n\n      (async () => {\n        try {\n          log(\"Henter rute via REST:\", routeId, \" (tvsslow:\", slowParam, \"ms)\");\n          setLastStatus(\"loading\");\n          if (slowParam) await delay(slowParam);\n          const r = await fetch(\n            `/wp-json/tvs/v1/routes/${encodeURIComponent(routeId)}`,\n            { credentials: \"same-origin\" }\n          );\n          const json = await r.json();\n          log(\"REST OK:\", json);\n          setData(json);\n          setLastStatus(\"ok\");\n        } catch (e) {\n          err(\"REST FAIL:\", e);\n          setError(\"Kunne ikke hente rutedata.\");\n          setLastError(e?.message || String(e));\n          setLastStatus(\"error\");\n        }\n      })();\n    }, [routeId]);\n\n    // Load user's activities\n    useEffect(() => {\n      loadActivities();\n    }, []);\n\n    async function loadActivities() {\n      try {\n        setLoadingActivities(true);\n        const url = \"/wp-json/tvs/v1/activities/me\";\n        const r = await fetch(url, {\n          credentials: \"same-origin\",\n          headers: {\n            \"X-TVS-Nonce\": window.TVS_SETTINGS?.nonce || \"\"\n          }\n        });\n        if (!r.ok) {\n          throw new Error(\"Failed to load activities\");\n        }\n        const json = await r.json();\n        const activitiesData = Array.isArray(json) ? json : (json.activities || []);\n        setActivities(activitiesData);\n      } catch (e) {\n        err(\"Load activities FAIL:\", e);\n        setActivities([]);\n      } finally {\n        setLoadingActivities(false);\n      }\n    }\n\n    // Bind to Vimeo player timeupdate via API\n    useEffect(() => {\n      if (!data) return;\n\n      const iframe = videoRef.current;\n      if (!iframe) return;\n\n      let player = null;\n      let unsubscribed = false;\n\n      function loadVimeoAPI() {\n        return new Promise((resolve, reject) => {\n          if (window.Vimeo && window.Vimeo.Player) return resolve();\n          const existing = document.querySelector('script[src=\"https://player.vimeo.com/api/player.js\"]');\n          if (existing) {\n            existing.addEventListener('load', () => resolve());\n            existing.addEventListener('error', () => reject(new Error('Vimeo API failed to load')));\n            return;\n          }\n          const s = document.createElement('script');\n          s.src = 'https://player.vimeo.com/api/player.js';\n          s.async = true;\n          s.onload = () => resolve();\n          s.onerror = () => reject(new Error('Vimeo API failed to load'));\n          document.head.appendChild(s);\n        });\n      }\n\n      (async () => {\n        try {\n          await loadVimeoAPI();\n          if (unsubscribed) return;\n          \n          player = new window.Vimeo.Player(iframe);\n          playerRef.current = player;\n          log('Vimeo Player constructed');\n\n          // Prime duration from API if route meta is missing\n          player.getDuration().then((d) => {\n            if (!Number(data?.meta?.duration_s) && typeof d === 'number' && d > 0) {\n              // optional: update display only\n            }\n          }).catch(() => {});\n\n          // Ready and timeupdate\n          try {\n            await player.ready();\n            if (!unsubscribed) {\n              setIsPlayerReady(true);\n              log('Vimeo Player ready');\n            }\n          } catch (e) {\n            err('Vimeo ready() rejected:', e);\n          }\n          player.on('timeupdate', (ev) => {\n            if (typeof ev?.seconds === 'number') {\n              setCurrentTime(ev.seconds);\n            }\n          });\n        } catch (_) {\n          err('Vimeo API init failed');\n        }\n      })();\n\n      return () => {\n        unsubscribed = true;\n        try {\n          if (player && player.off) player.off('timeupdate');\n          if (player && player.destroy) player.destroy();\n        } catch (_) {}\n        playerRef.current = null;\n        setIsPlayerReady(false);\n      };\n    }, [data]);\n\n    async function ensurePlayerReady(timeoutMs = 8000) {\n      const start = Date.now();\n      while (Date.now() - start < timeoutMs) {\n        const p = playerRef.current;\n        if (p) {\n          try {\n            await p.ready();\n            setIsPlayerReady(true);\n            return p;\n          } catch (e) {\n            // keep waiting\n          }\n        }\n        await delay(100);\n      }\n      throw new Error('Video player is not ready');\n    }\n\n    function estimateDistance(durationS) {\n      const meta = data?.meta || {};\n      const routeDur = Number(meta.duration_s || 0);\n      const routeDist = Number(meta.distance_m || 0);\n      if (routeDur > 0 && routeDist > 0 && durationS >= 0) {\n        const ratio = Math.min(1, durationS / routeDur);\n        return Math.round(routeDist * ratio);\n      }\n      return 0;\n    }\n\n    async function startActivitySession() {\n      try {\n        setIsPosting(true);\n        log('Start clicked');\n        const player = await ensurePlayerReady();\n        setLastStatus(\"starting\");\n        try {\n          await player.setCurrentTime(0);\n          log('Seeked to 0');\n        } catch (e) {\n          err('setCurrentTime failed:', e);\n        }\n        try {\n          await player.play();\n          log('Playback started');\n        } catch (e) {\n          err('play() failed:', e);\n          showFlash('Could not start playback: ' + (e?.message || String(e)), 'error');\n          throw e;\n        }\n        setSessionStartAt(new Date());\n        setIsSessionActive(true);\n        setLastStatus(\"running\");\n      } catch (e) {\n        err(\"Start session failed:\", e);\n        showFlash(\"Player not ready yet. Please wait a moment and try again.\", 'error');\n        setLastStatus(\"error\");\n      } finally {\n        setIsPosting(false);\n      }\n    }\n\n    async function resumeActivitySession() {\n      try {\n        setIsPosting(true);\n        log('Resume clicked');\n        const player = await ensurePlayerReady();\n        setLastStatus('starting');\n        try {\n          await player.play();\n          log('Playback resumed');\n        } catch (e) {\n          err('resume play() failed:', e);\n          showFlash('Could not resume playback: ' + (e?.message || String(e)), 'error');\n          throw e;\n        }\n        setIsSessionActive(true);\n        setLastStatus('running');\n      } catch (e) {\n        err('Resume session failed:', e);\n        showFlash(\"Player not ready yet. Please wait a moment and try again.\", 'error');\n        setLastStatus('error');\n      } finally {\n        setIsPosting(false);\n      }\n    }\n\n    async function pauseActivitySession() {\n      try {\n        log('Pause clicked');\n        const player = await ensurePlayerReady();\n        try {\n          await player.pause();\n          log('Playback paused');\n        } catch (e) {\n          err('pause() failed:', e);\n          showFlash('Failed to pause: ' + (e?.message || String(e)), 'error');\n          throw e;\n        }\n        setIsSessionActive(false);\n        setLastStatus(\"paused\");\n      } catch (e) {\n        err('[TVS] Pause failed:', e);\n        setLastStatus(\"error\");\n      }\n    }\n\n    async function finishAndSaveActivity() {\n      try {\n        setIsPosting(true);\n        log('Finish clicked');\n        const player = await ensurePlayerReady();\n        setLastStatus(\"saving\");\n        try {\n          await player.pause();\n          log('Playback paused before save');\n        } catch (e) {\n          err('pause before save failed:', e);\n        }\n        const seconds = await player.getCurrentTime();\n        const durationS = Math.max(0, Math.floor(seconds || 0));\n        const startISO = sessionStartAt ? sessionStartAt.toISOString() : new Date(Date.now() - durationS * 1000).toISOString();\n        const distanceM = estimateDistance(durationS);\n\n        const payload = {\n          route_id: data.id,\n          route_name: data.title || \"Unknown Route\",\n          activity_date: new Date().toISOString(),\n          started_at: startISO,\n          duration_s: durationS,\n          distance_m: distanceM,\n        };\n        const nonce = window.TVS_SETTINGS?.nonce || \"\";\n\n        if (slowParam) await delay(slowParam);\n\n        const r = await fetch(\"/wp-json/tvs/v1/activities\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\", \"X-WP-Nonce\": nonce },\n          credentials: \"same-origin\",\n          body: JSON.stringify(payload),\n        });\n        if (!r.ok) {\n          const res = await r.json();\n          throw new Error(res.message || `HTTP ${r.status}`);\n        }\n        const res = await r.json();\n        showFlash(\"Activity saved!\");\n        setLastStatus(\"ok\");\n        setIsSessionActive(false);\n        setSessionStartAt(null);\n        await loadActivities();\n        window.dispatchEvent(new CustomEvent('tvs:activity-updated'));\n      } catch (e) {\n        err('[TVS] Save activity failed:', e);\n        showFlash(\"Failed to save activity: \" + (e?.message || String(e)), 'error');\n        setLastError(e?.message || String(e));\n        setLastStatus(\"error\");\n      } finally {\n        setIsPosting(false);\n      }\n    }\n\n    async function uploadToStrava(activityId) {\n      try {\n        setUploadingId(activityId);\n        setLastStatus(\"uploading\");\n        const r = await fetch(`/wp-json/tvs/v1/activities/${activityId}/strava`, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"X-WP-Nonce\": window.TVS_SETTINGS?.nonce || \"\"\n          },\n          credentials: \"same-origin\",\n        });\n        const res = await r.json();\n        if (!r.ok) {\n          throw new Error(res.message || \"Upload failed\");\n        }\n        showFlash(\"Uploaded to Strava!\");\n        setLastStatus(\"ok\");\n        await loadActivities();\n        window.dispatchEvent(new CustomEvent('tvs:activity-updated'));\n      } catch (e) {\n        err(\"Strava upload FAIL:\", e);\n        showFlash(\"Failed to upload to Strava: \" + (e?.message || String(e)), 'error');\n        setLastError(e?.message || String(e));\n        setLastStatus(\"error\");\n      } finally {\n        setUploadingId(null);\n      }\n    }\n\n    if (error) return h(\"div\", { className: \"tvs-route tvs-error\" }, String(error));\n    if (!data) return React.createElement(Loading, null);\n\n    const title = data.title || \"Route\";\n    const meta = data.meta || {};\n    const vimeo = meta.vimeo_id ? String(meta.vimeo_id) : \"\";\n    const duration = Number(meta.duration_s || 0);\n    const isLoggedIn = !!(window.TVS_SETTINGS?.user);\n\n    return h(\n      \"div\",\n      { className: \"tvs-app\" },\n      h(\"h2\", null, title),\n      vimeo\n        ? h(\n            \"div\",\n            { className: \"tvs-video\" },\n            h(\"iframe\", {\n              ref: videoRef,\n              width: 560,\n              height: 315,\n              src:\n                \"https://player.vimeo.com/video/\" +\n                encodeURIComponent(vimeo) +\n                \"?controls=0&title=0&byline=0&portrait=0&pip=0&playsinline=1&dnt=1&transparent=0&muted=0\",\n              frameBorder: 0,\n              allow: \"autoplay; fullscreen; picture-in-picture\",\n              allowFullScreen: true,\n            })\n          )\n        : null,\n      (new URLSearchParams(location.search).get(\"tvsdebug\") === \"1\" || window.TVS_DEBUG === true || localStorage.getItem(\"tvsDev\") === \"1\")\n        ? h(\"div\", { className: \"tvs-meta\" }, h(\"pre\", null, JSON.stringify(meta, null, 2)))\n        : null,\n      h(ProgressBar, { React, currentTime, duration }),\n      h(\n        \"div\",\n        { style: { display: 'flex', gap: '8px', flexWrap: 'wrap' } },\n        !isLoggedIn\n          ? (\n              h(\n                \"div\",\n                {\n                  style: {\n                    backgroundColor: \"#fef3c7\",\n                    border: \"1px solid #f59e0b\",\n                    padding: \"1rem\",\n                    margin: \"0.5rem 0 0 0\",\n                    borderRadius: \"4px\",\n                    width: '100%'\n                  },\n                },\n                h(\"strong\", null, \"\u26A0\uFE0F You must be logged in\"),\n                h(\n                  \"p\",\n                  { style: { margin: \"0.5rem 0 0 0\" } },\n                  \"Please \",\n                  h(\"a\", { href: \"/login\", style: { color: '#1f2937', textDecoration: 'underline' } }, \"log in\"),\n                  \" to create activities and upload to Strava. Don't have an account? \",\n                  h(\"a\", { href: \"/register\", style: { color: '#1f2937', textDecoration: 'underline' } }, \"Register here\"),\n                  \".\"\n                )\n              )\n            )\n          : !isSessionActive\n          ? (\n              (currentTime > 0 && sessionStartAt && (duration === 0 || currentTime < duration - 0.5))\n                ? [\n                    h(\n                      \"button\",\n                      {\n                        key: 'resume',\n                        className: \"tvs-btn\",\n                        onClick: resumeActivitySession,\n                         disabled: isPosting || !isPlayerReady,\n                      },\n                      isPosting ? h(\"span\", { className: \"tvs-spinner\", \"aria-hidden\": \"true\" }) : null,\n                      isPosting ? \" Starting...\" : \"Resume Activity\"\n                    ),\n                    h(\n                      \"button\",\n                      {\n                        key: 'finish',\n                        className: \"tvs-btn\",\n                        onClick: finishAndSaveActivity,\n                          disabled: isPosting || !isPlayerReady,\n                        style: { backgroundColor: '#10b981' }\n                      },\n                      isPosting ? h(\"span\", { className: \"tvs-spinner\", \"aria-hidden\": \"true\" }) : null,\n                      isPosting ? \" Saving...\" : \"Finish & Save\"\n                    ),\n                    h(\n                      \"button\",\n                      {\n                        key: 'restart',\n                        className: \"tvs-btn\",\n                        onClick: startActivitySession,\n                          disabled: isPosting || !isPlayerReady,\n                        style: { backgroundColor: '#334155' }\n                      },\n                      \"Restart from 0:00\"\n                    )\n                  ]\n                 : h(\n                     \"button\",\n                     {\n                       className: \"tvs-btn\",\n                        onClick: startActivitySession,\n                        disabled: isPosting || !isPlayerReady,\n                     },\n                     isPosting ? h(\"span\", { className: \"tvs-spinner\", \"aria-hidden\": \"true\" }) : null,\n                     isPosting ? \" Starting...\" : \"Start Activity\"\n                   )\n             )\n           : [\n               h(\n                 \"button\",\n                 {\n                   key: 'pause',\n                   className: \"tvs-btn\",\n                   onClick: pauseActivitySession,\n                     disabled: isPosting || !isPlayerReady,\n                   style: { backgroundColor: \"#f59e0b\" },\n                 },\n                 \"Pause\"\n               ),\n               h(\n                 \"button\",\n                 {\n                   key: 'finish',\n                   className: \"tvs-btn\",\n                   onClick: finishAndSaveActivity,\n                     disabled: isPosting || !isPlayerReady,\n                   style: { backgroundColor: \"#10b981\" },\n                 },\n                 isPosting\n                   ? h(\"span\", { className: \"tvs-spinner\", \"aria-hidden\": \"true\" })\n                   : null,\n                 isPosting ? \" Saving...\" : \"Finish & Save\"\n               )\n             ]\n      ),\n      DEBUG ? h(DevOverlay, { React, routeId, lastStatus, lastError, currentTime, duration }) : null\n    );\n  }\n\n  // MyActivities Component (shared between main app and standalone block)\n  function MyActivities({ React, activities, loadingActivities, uploadToStrava, uploadingId }) {\n    const { useState, createElement: h } = React;\n    const [min, setMin] = useState(false);\n    \n    // Show only the 5 most recent activities\n    const recentActivities = activities.slice(0, 5);\n    \n    return h(\n      \"div\",\n      {\n        className: \"tvs-activities-block\",\n        style: { marginTop: \"1rem\", border: \"1px solid #e5e7eb\", borderRadius: \"8px\", background: \"#fff\", padding: \"1rem\" }\n      },\n      h(\n        \"div\",\n        { style: { display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\", marginBottom: \"1rem\" } },\n        h(\"h3\", { style: { margin: 0, fontSize: \"1.25rem\" } }, \"Recent Activities\"),\n        h(\n          \"button\",\n          {\n            onClick: () => setMin(!min),\n            style: { fontSize: \"1.2em\", background: \"none\", border: \"none\", cursor: \"pointer\", color: \"#666\" },\n            \"aria-label\": min ? \"Expand\" : \"Minimize\"\n          },\n          min ? \"\u25B8\" : \"\u25BE\"\n        )\n      ),\n      min\n        ? null\n        : loadingActivities\n        ? h(\"p\", { style: { color: \"#666\" } }, \"Loading activities...\")\n        : recentActivities.length === 0\n        ? h(\"p\", { style: { color: \"#666\" } }, \"Start a new activity when you're ready\")\n        : h(\n            \"div\",\n            null,\n            h(\n              \"div\",\n              { className: \"tvs-activities-list\", style: { marginBottom: \"1rem\" } },\n              recentActivities.map((activity) =>\n                h(ActivityCard, {\n                  key: activity.id,\n                  activity,\n                  uploadToStrava,\n                  uploading: uploadingId === activity.id,\n                  React,\n                  compact: true\n                })\n              )\n            ),\n            h(\n              \"div\",\n              { style: { textAlign: \"center\", paddingTop: \"0.5rem\", borderTop: \"1px solid #e5e7eb\" } },\n              h(\n                \"a\",\n                {\n                  href: \"/my-activities\",\n                  style: { color: \"#2563eb\", textDecoration: \"none\", fontSize: \"0.9rem\" }\n                },\n                \"Go to my activities \u2192\"\n              )\n            )\n          )\n    );\n  }\n\n  // Activity Card Component\n  function ActivityCard({ activity, uploadToStrava, uploading, React, compact, dummy }) {\n    const { createElement: h } = React;\n    const meta = activity.meta || {};\n    const activityId = activity.id;\n    \n    const syncedStrava = meta._tvs_synced_strava?.[0] || meta.synced_strava?.[0];\n    const stravaRemoteId = meta._tvs_strava_remote_id?.[0] || meta.strava_activity_id?.[0];\n    const isSynced = syncedStrava === \"1\" || syncedStrava === 1;\n    \n    const distance = meta._tvs_distance_m?.[0] || meta.distance_m?.[0] || 0;\n    const duration = meta._tvs_duration_s?.[0] || meta.duration_s?.[0] || 0;\n    const routeId = meta._tvs_route_id?.[0] || meta.route_id?.[0];\n    const routeName = meta._tvs_route_name?.[0] || meta.route_name?.[0] || \"Unknown Route\";\n    const activityDate = meta._tvs_activity_date?.[0] || meta.activity_date?.[0] || activity.date || \"\";\n    \n    // Format date nicely\n    let formattedDate = \"\";\n    if (activityDate) {\n      try {\n        const date = new Date(activityDate);\n        formattedDate = date.toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' });\n      } catch (e) {\n        formattedDate = activityDate;\n      }\n    }\n    \n    const activityTitle = formattedDate ? `${routeName} (${formattedDate})` : routeName;\n    \n    if (compact) {\n      const { useState } = React;\n      const [showPopover, setShowPopover] = useState(false);\n      \n      if (dummy) {\n        return h(\n          \"div\",\n          {\n            className: \"tvs-activity-card-compact\",\n            style: {\n              padding: \"0.75rem\",\n              marginBottom: \"0.5rem\",\n              borderRadius: \"4px\",\n              background: \"linear-gradient(90deg, #f3f4f6 60%, #e5e7eb 100%)\",\n              fontSize: \"0.9rem\",\n              position: \"relative\",\n              opacity: 0.6,\n              filter: \"grayscale(0.7)\",\n              pointerEvents: \"none\"\n            },\n          },\n          h(\"div\", { style: { display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", gap: \"0.5rem\" } },\n            h(\"div\", { style: { flex: 1, minWidth: 0 } },\n              h(\"div\", { style: { fontWeight: \"500\", marginBottom: \"0.25rem\" } }, activityTitle),\n              h(\"div\", { style: { fontSize: \"0.85rem\", color: \"#888\" } },\n                distance > 0 ? (distance / 1000).toFixed(2) + \" km\" : \"\",\n                distance > 0 && duration > 0 ? \" \u00B7 \" : \"\",\n                duration > 0 ? Math.floor(duration / 60) + \" min\" : \"\"\n              )\n            ),\n            h(\"div\", { style: { display: \"flex\", alignItems: \"center\", gap: \"0.5rem\", flexShrink: 0 } },\n              h(\"span\", { style: { color: \"#bbb\", fontSize: \"1.5rem\", lineHeight: 1, display: \"flex\", alignItems: \"center\" }, title: \"Preview\" }, \"\u2713\"),\n              h(\"div\", { style: { width: \"32px\", height: \"32px\", borderRadius: \"4px\", backgroundColor: \"#e5e7eb\", color: \"#ccc\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\", fontWeight: \"bold\" } }, \"S\")\n            )\n          )\n        );\n      }\n      \n      return h(\n        \"div\",\n        {\n          className: \"tvs-activity-card-compact\",\n          style: {\n            padding: \"0.75rem\",\n            marginBottom: \"0.5rem\",\n            borderRadius: \"4px\",\n            backgroundColor: \"#f9fafb\",\n            fontSize: \"0.9rem\",\n            position: \"relative\"\n          },\n        },\n        h(\"div\", { style: { display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", gap: \"0.5rem\" } },\n          h(\"div\", { style: { flex: 1, minWidth: 0 } },\n            h(\"div\", { style: { fontWeight: \"500\", marginBottom: \"0.25rem\" } }, activityTitle),\n            h(\"div\", { style: { fontSize: \"0.85rem\", color: \"#666\" } },\n              distance > 0 ? (distance / 1000).toFixed(2) + \" km\" : \"\",\n              distance > 0 && duration > 0 ? \" \u00B7 \" : \"\",\n              duration > 0 ? Math.floor(duration / 60) + \" min\" : \"\"\n            )\n          ),\n          h(\"div\", { style: { display: \"flex\", alignItems: \"center\", gap: \"0.5rem\", flexShrink: 0 } },\n            isSynced\n              ? h(\"span\", { \n                  style: { \n                    color: \"#10b981\", \n                    fontSize: \"1.5rem\",\n                    lineHeight: 1,\n                    display: \"flex\",\n                    alignItems: \"center\"\n                  },\n                  title: \"Synced to Strava\"\n                }, \"\u2713\")\n              : null,\n            h(\"div\", { style: { position: \"relative\" } },\n              isSynced\n                ? h(\n                    \"a\",\n                    {\n                      href: stravaRemoteId ? \"https://www.strava.com/activities/\" + stravaRemoteId : \"#\",\n                      target: \"_blank\",\n                      rel: \"noopener noreferrer\",\n                      title: \"View on Strava\",\n                      style: {\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        width: \"32px\",\n                        height: \"32px\",\n                        borderRadius: \"4px\",\n                        backgroundColor: \"#fc4c02\",\n                        color: \"white\",\n                        textDecoration: \"none\",\n                        fontSize: \"0.9rem\",\n                        fontWeight: \"bold\"\n                      }\n                    },\n                    \"S\"\n                  )\n                : h(\n                    \"button\",\n                    {\n                      onClick: (e) => {\n                        e.stopPropagation();\n                        setShowPopover(!showPopover);\n                      },\n                      disabled: uploading,\n                      title: \"Upload to Strava\",\n                      style: {\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        width: \"32px\",\n                        height: \"32px\",\n                        borderRadius: \"4px\",\n                        backgroundColor: uploading ? \"#ccc\" : \"#fc4c02\",\n                        color: \"white\",\n                        border: \"none\",\n                        cursor: uploading ? \"wait\" : \"pointer\",\n                        fontSize: \"0.9rem\",\n                        fontWeight: \"bold\"\n                      }\n                    },\n                    uploading ? \"...\" : \"S\"\n                  ),\n              showPopover && !isSynced && !uploading\n                ? h(\n                    \"div\",\n                    {\n                      style: {\n                        position: \"absolute\",\n                        right: 0,\n                        top: \"calc(100% + 0.5rem)\",\n                        backgroundColor: \"white\",\n                        border: \"1px solid #e5e7eb\",\n                        borderRadius: \"8px\",\n                        padding: \"0.75rem\",\n                        boxShadow: \"0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06)\",\n                        zIndex: 1000,\n                        minWidth: \"200px\",\n                        whiteSpace: \"nowrap\"\n                      }\n                    },\n                    h(\"div\", { style: { fontSize: \"0.9rem\", marginBottom: \"0.5rem\", color: \"#374151\" } }, \"Upload to Strava?\"),\n                    h(\"div\", { style: { display: \"flex\", gap: \"0.5rem\" } },\n                      h(\n                        \"button\",\n                        {\n                          onClick: (e) => {\n                            e.stopPropagation();\n                            setShowPopover(false);\n                            uploadToStrava(activityId);\n                          },\n                          style: {\n                            flex: 1,\n                            padding: \"0.5rem 0.75rem\",\n                            backgroundColor: \"#fc4c02\",\n                            color: \"white\",\n                            border: \"none\",\n                            borderRadius: \"4px\",\n                            cursor: \"pointer\",\n                            fontSize: \"0.85rem\",\n                            fontWeight: \"500\"\n                          }\n                        },\n                        \"Upload\"\n                      ),\n                      h(\n                        \"button\",\n                        {\n                          onClick: (e) => {\n                            e.stopPropagation();\n                            setShowPopover(false);\n                          },\n                          style: {\n                            flex: 1,\n                            padding: \"0.5rem 0.75rem\",\n                            backgroundColor: \"#f3f4f6\",\n                            color: \"#374151\",\n                            border: \"none\",\n                            borderRadius: \"4px\",\n                            cursor: \"pointer\",\n                            fontSize: \"0.85rem\"\n                          }\n                        },\n                        \"Cancel\"\n                      )\n                    )\n                  )\n                : null\n            )\n          )\n        ),\n        showPopover\n          ? h(\"div\", {\n              style: {\n                position: \"fixed\",\n                inset: 0,\n                zIndex: 999\n              },\n              onClick: () => setShowPopover(false)\n            })\n          : null\n      );\n    }\n    \n    return h(\n      \"div\",\n      {\n        className: \"tvs-activity-card\",\n        style: {\n          border: \"1px solid #ddd\",\n          padding: \"1rem\",\n          marginBottom: \"1rem\",\n          borderRadius: \"4px\",\n          backgroundColor: isSynced ? \"#f0f9ff\" : \"#fff\"\n        },\n      },\n      h(\"div\", { style: { display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" } },\n        h(\"div\", null,\n          h(\"strong\", null, activityTitle),\n          h(\"div\", { style: { marginTop: \"0.5rem\", fontSize: \"0.9rem\", color: \"#666\" } },\n            distance > 0 ? h(\"span\", null, \"Distance: \" + (distance / 1000).toFixed(2) + \" km \") : null,\n            duration > 0 ? h(\"span\", null, \"Duration: \" + Math.floor(duration / 60) + \" min\") : null\n          )\n        ),\n        h(\"div\", null,\n          isSynced\n            ? h(\n                \"div\",\n                { style: { textAlign: \"right\" } },\n                h(\"span\", { style: { color: \"#10b981\", fontWeight: \"bold\" } }, \"\u2713 Synced to Strava\"),\n                stravaRemoteId\n                  ? h(\n                      \"a\",\n                      {\n                        href: \"https://www.strava.com/activities/\" + stravaRemoteId,\n                        target: \"_blank\",\n                        rel: \"noopener noreferrer\",\n                        style: { display: \"block\", marginTop: \"0.25rem\", fontSize: \"0.85rem\" }\n                      },\n                      \"View on Strava \u2192\"\n                    )\n                  : null\n              )\n            : h(\n                \"button\",\n                {\n                  className: \"tvs-btn tvs-btn-strava\",\n                  onClick: () => uploadToStrava(activityId),\n                  disabled: uploading,\n                  style: {\n                    backgroundColor: \"#fc4c02\",\n                    color: \"white\",\n                    border: \"none\",\n                    padding: \"0.5rem 1rem\",\n                    borderRadius: \"4px\",\n                    cursor: uploading ? \"wait\" : \"pointer\",\n                    opacity: uploading ? 0.6 : 1\n                  }\n                },\n                uploading ? \"Uploading...\" : \"Upload to Strava\"\n              )\n        )\n      )\n    );\n  }\n\n  // ---------- boot ----------\n  function boot() {\n    const mount = document.getElementById(\"tvs-app-root\");\n    if (mount) {\n      const inline = window.tvs_route_payload || null;\n      const routeId = mount.getAttribute(\"data-route-id\") || (inline && inline.id);\n      log(\"Boot \u2192 routeId:\", routeId, \"inline payload:\", !!inline);\n      mountReact(App, { initialData: inline, routeId }, mount);\n    }\n\n    if (window.tvsMyActivitiesMount && Array.isArray(window.tvsMyActivitiesMount)) {\n      window.tvsMyActivitiesMount.forEach((mountId) => {\n        const blockMount = document.getElementById(mountId);\n        if (blockMount) {\n          log(\"Mounting MyActivities block on:\", mountId);\n          mountReact(MyActivitiesStandalone, {}, blockMount);\n        }\n      });\n    }\n  }\n\n  function MyActivitiesStandalone() {\n    const { useState, useEffect, createElement: h } = React;\n    const [activities, setActivities] = useState([]);\n    const [loadingActivities, setLoadingActivities] = useState(false);\n    const [uploadingId, setUploadingId] = useState(null);\n    const isLoggedIn = !!(window.TVS_SETTINGS?.user);\n\n    useEffect(() => {\n      if (!isLoggedIn) return;\n      loadActivities();\n      const handleActivityUpdate = () => {\n        if (DEBUG) console.info('[TVS] MyActivitiesStandalone: Received activity update event, reloading...');\n        loadActivities();\n      };\n      window.addEventListener('tvs:activity-updated', handleActivityUpdate);\n      return () => {\n        window.removeEventListener('tvs:activity-updated', handleActivityUpdate);\n      };\n    }, []);\n\n    async function loadActivities() {\n      try {\n        setLoadingActivities(true);\n        const url = \"/wp-json/tvs/v1/activities/me\";\n        const r = await fetch(url, {\n          credentials: \"same-origin\",\n          headers: {\n            \"X-TVS-Nonce\": window.TVS_SETTINGS?.nonce || \"\"\n          }\n        });\n        if (!r.ok) {\n          throw new Error(\"Failed to load activities\");\n        }\n        const json = await r.json();\n        const activitiesData = Array.isArray(json) ? json : (json.activities || []);\n        setActivities(activitiesData);\n      } catch (e) {\n        err(\"Load activities FAIL:\", e);\n        setActivities([]);\n      } finally {\n        setLoadingActivities(false);\n      }\n    }\n\n    async function uploadToStrava(activityId) {\n      try {\n        setUploadingId(activityId);\n        const r = await fetch(`/wp-json/tvs/v1/activities/${activityId}/strava`, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"X-WP-Nonce\": window.TVS_SETTINGS?.nonce || \"\"\n          },\n          credentials: \"same-origin\",\n        });\n        const res = await r.json();\n        if (!r.ok) {\n          throw new Error(res.message || \"Upload failed\");\n        }\n        window.tvsFlash(\"Uploaded to Strava!\");\n        await loadActivities();\n        window.dispatchEvent(new CustomEvent('tvs:activity-updated'));\n      } catch (e) {\n        err(\"Strava upload FAIL:\", e);\n        window.tvsFlash(\"Failed to upload to Strava: \" + (e?.message || String(e)), 'error');\n      } finally {\n        setUploadingId(null);\n      }\n    }\n\n    if (!isLoggedIn) {\n      const dummyActivities = Array.from({ length: 3 }).map((_, i) => ({\n        id: 'dummy-' + i,\n        meta: {\n          _tvs_route_name: [\"Sample Route \" + (i + 1)],\n          _tvs_activity_date: [new Date(Date.now() - i * 86400000).toISOString()],\n          _tvs_distance_m: [Math.round(5000 + Math.random() * 5000)],\n          _tvs_duration_s: [Math.round(1200 + Math.random() * 1800)],\n        }\n      }));\n      return h(\n        \"div\",\n        { className: \"tvs-activities-block\", style: { marginTop: \"1rem\", border: \"1px solid #e5e7eb\", borderRadius: \"8px\", background: \"#fff\", padding: \"1rem\" } },\n        h(\"h3\", { style: { marginTop: 0 } }, \"My Activities\"),\n        h(\n          \"div\",\n          { className: \"tvs-activities-list\", style: { marginBottom: \"1rem\" } },\n          dummyActivities.map((activity) =>\n            h(ActivityCard, {\n              key: activity.id,\n              activity,\n              React,\n              compact: true,\n              dummy: true\n            })\n          )\n        ),\n        h(\n          \"div\",\n          { style: { textAlign: \"center\", color: \"#888\", fontSize: \"0.95rem\", marginBottom: \"0.5rem\" } },\n          \"Sign in to see your recent activities.\"\n        ),\n        h(\n          \"div\",\n          { style: { textAlign: \"center\" } },\n          h(\n            \"a\",\n            { href: \"/login\", style: { color: '#1f2937', textDecoration: 'underline', marginRight: 12 } },\n            \"Log in\"\n          ),\n          h(\n            \"a\",\n            { href: \"/register\", style: { color: '#1f2937', textDecoration: 'underline' } },\n            \"Register\"\n          )\n        )\n      );\n    }\n\n    return h(MyActivities, { React, activities, loadingActivities, uploadToStrava, uploadingId });\n  }\n\n  // toggle overlay via ` (backtick)\n  if (DEBUG) {\n    log(\"Debug mode enabled.\");\n  } else {\n    document.addEventListener(\"keydown\", function (ev) {\n      if (ev.key === \"`\") {\n        const url = new URL(location.href);\n        url.searchParams.set(\"tvsdebug\", \"1\");\n        location.href = url.toString();\n      }\n    });\n  }\n\n  if (document.readyState === \"loading\") {\n    document.addEventListener(\"DOMContentLoaded\", boot);\n  } else {\n    boot();\n  }\n})();"],
  "mappings": "OACC,UAAY,CAEX,IAAMA,GAAK,CAACC,EAAKC,KAASA,GAAO,UAAU,cAAcD,CAAG,EACtDE,GAASC,GAAM,IAAI,gBAAgB,SAAS,MAAM,EAAE,IAAIA,CAAC,EACzDC,EACJ,IAAI,gBAAgB,SAAS,MAAM,EAAE,IAAI,UAAU,IAAM,KACzD,OAAO,YAAc,IACrB,aAAa,QAAQ,QAAQ,IAAM,IAEhCA,GACH,SAAS,iBAAiB,UAAYC,GAAO,CACvCA,EAAG,MAAQ,MACb,aAAa,QAAQ,SAAU,GAAG,EAClC,SAAS,OAAO,EAEpB,CAAC,EAGD,SAASC,KAAOC,EAAM,CAClBH,GAAO,QAAQ,MAAM,QAAS,GAAGG,CAAI,CAC3C,CACA,SAASC,KAAOD,EAAM,CACpB,QAAQ,MAAM,QAAS,GAAGA,CAAI,CAChC,CAIA,IAAME,GAAiB,CAAC,EAAE,OAAO,OAAS,OAAO,UAE3CC,EADe,CAAC,EAAE,OAAO,IAAM,OAAO,GAAG,SACnB,OAAO,GAAG,QAAU,CAAC,EAC3CC,EAAQF,GAAiB,OAAO,MAASC,GAAQ,CAAC,EAClDE,EAAWH,GAAiB,OAAO,SAAYC,GAAQ,KAGvDG,EAAW,IAAI,QAGfC,GACHF,GAAY,OAAOA,EAAS,YAAe,YAC3CF,GAAQ,OAAOA,EAAK,YAAe,WAEtC,SAASK,GAAWC,EAAWC,EAAOC,EAAM,CAC1C,GAAI,CAGF,IAAMC,EAAeN,EAAS,IAAIK,CAAI,EAStC,GARIC,GAAgB,OAAOA,EAAa,SAAY,YAClDA,EAAa,QAAQ,EACrBN,EAAS,OAAOK,CAAI,GACXN,GAAY,OAAOA,EAAS,wBAA2B,YAEhEA,EAAS,uBAAuBM,CAAI,EAGlCJ,GAAe,CAEjB,IAAMM,GADcR,GAAYA,EAAS,YAAgBF,GAAQA,EAAK,YAC9CQ,CAAI,EAC5BL,EAAS,IAAIK,EAAME,CAAI,EACvBA,EAAK,OAAOT,EAAM,cAAcK,EAAWC,CAAK,CAAC,EACjD,OAGF,IAAMI,EAAgBT,GAAYA,EAAS,QAAYF,GAAQA,EAAK,OACpE,GAAIW,EAAc,CAChBA,EAAaV,EAAM,cAAcK,EAAWC,CAAK,EAAGC,CAAI,EACxD,OAEFV,EAAI,qCAAqC,CAC3C,OAASc,EAAP,CACAd,EAAI,gBAAiBc,CAAC,CACxB,CACF,CAEA,IAAMC,EAAY,OAAO,IAAI,gBAAgB,SAAS,MAAM,EAAE,IAAI,SAAS,GAAK,CAAC,EACjF,SAASC,EAAMC,EAAI,CACjB,OAAO,IAAI,QAASC,GAAQ,WAAWA,EAAKD,CAAE,CAAC,CACjD,CAGA,SAASE,GAAWC,EAAS,CAC3B,IAAMC,EAAO,KAAK,MAAMD,EAAU,EAAE,EAC9BE,EAAO,KAAK,MAAMF,EAAU,EAAE,EACpC,OAAOC,EAAO,KAAOC,EAAO,GAAK,IAAM,IAAMA,CAC/C,CAGA,SAASC,GAAY,CAAE,MAAApB,EAAO,YAAAqB,EAAa,SAAAC,CAAS,EAAG,CACrD,IAAMC,EAAIvB,EAAM,cACVwB,EAAWF,EAAW,EAAKD,EAAcC,EAAY,IAAM,EAEjE,OAAOC,EACL,MACA,CAAE,UAAW,cAAe,EAC5BA,EACE,MACA,CAAE,UAAW,mBAAoB,EACjCA,EAAE,MAAO,CACP,UAAW,qBACX,MAAO,CAAE,MAAO,KAAK,IAAIC,EAAU,GAAG,EAAI,GAAI,CAChD,CAAC,CACH,EACAD,EACE,MACA,CAAE,UAAW,oBAAqB,EAClCP,GAAWK,CAAW,EAAI,MAAQL,GAAWM,CAAQ,CACvD,CACF,CACF,CAGA,SAASG,IAAU,CACjB,IAAMF,EAAIvB,EAAM,cAChB,OAAOuB,EACL,MACA,CAAE,UAAW,cAAe,KAAM,SAAU,YAAa,QAAS,EAElEA,EACE,MACA,CAAE,QAAS,YAAa,UAAW,aAAc,cAAe,MAAO,EAEvEA,EAAE,OAAQ,CAAE,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,OAAQ,OAAQ,YAAa,EAAG,UAAW,OAAQ,CAAC,EAE/FA,EAAE,SAAU,CAAE,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,KAAM,OAAQ,OAAQ,OAAQ,YAAa,CAAE,CAAC,EAElFA,EAAE,OAAQ,CAAE,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,OAAQ,OAAQ,YAAa,CAAE,CAAC,EAE5EA,EAAE,OAAQ,CAAE,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,OAAQ,OAAQ,YAAa,EAAG,UAAW,YAAa,MAAO,CAAE,gBAAiB,WAAY,CAAE,CAAC,EAC7IA,EAAE,OAAQ,CAAE,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,OAAQ,OAAQ,YAAa,EAAG,UAAW,WAAY,MAAO,CAAE,gBAAiB,WAAY,CAAE,CAAC,EAE5IA,EAAE,OAAQ,CAAE,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,OAAQ,OAAQ,YAAa,EAAG,UAAW,YAAa,MAAO,CAAE,gBAAiB,WAAY,CAAE,CAAC,EAC7IA,EAAE,OAAQ,CAAE,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,OAAQ,OAAQ,YAAa,EAAG,UAAW,WAAY,MAAO,CAAE,gBAAiB,WAAY,CAAE,CAAC,CAC9I,EAEAA,EACE,MACA,KACAA,EAAE,MAAO,CAAE,UAAW,eAAgB,CAAC,EACvCA,EAAE,MAAO,CAAE,UAAW,kBAAmB,CAAC,EAC1CA,EACE,MACA,KACAA,EAAE,OAAQ,CAAE,UAAW,gBAAiB,CAAC,EACzCA,EAAE,OAAQ,CAAE,UAAW,gBAAiB,CAAC,EACzCA,EAAE,OAAQ,CAAE,UAAW,gBAAiB,CAAC,CAC3C,CACF,CACF,CACF,CAGA,SAASG,GAAO1B,EAAO,CACrB,GAAM,CAAE,UAAA2B,EAAW,OAAAC,EAAQ,SAAAC,CAAS,EAAI7B,EAClC,CAAC8B,EAAKC,CAAM,EAAIF,EAAS,CAAC,EAC1BG,EAAWJ,EAAO,YAAY,IAAI,CAAC,EACnCK,EAASL,EAAO,CAAC,EAEvB,OAAAD,EAAU,IAAM,CACd,IAAIO,EACEC,EAAQC,GAAM,CAClBH,EAAO,SAAW,EACdG,EAAIJ,EAAS,SAAW,MAC1BD,EAAOE,EAAO,OAAO,EACrBA,EAAO,QAAU,EACjBD,EAAS,QAAUI,GAErBF,EAAM,sBAAsBC,CAAI,CAClC,EACA,OAAAD,EAAM,sBAAsBC,CAAI,EACzB,IAAM,qBAAqBD,CAAG,CACvC,EAAG,CAAC,CAAC,EACEJ,CACT,CAEA,SAASO,GAAW,CAAE,MAAArC,EAAO,QAAAsC,EAAS,WAAAC,EAAY,UAAAC,EAAW,YAAAnB,EAAa,SAAAC,CAAS,EAAG,CACpF,GAAM,CAAE,UAAAK,EAAW,OAAAC,EAAQ,SAAAC,EAAU,cAAeN,CAAE,EAAIvB,EACpD8B,EAAMJ,GAAO1B,CAAK,EAClByC,EAASb,EAAO,IAAI,EACpB,CAACc,EAAKC,CAAM,EAAId,EAAS,EAAK,EAC9B,CAACe,EAAKC,CAAM,EAAIhB,EAAS,CAAE,EAAG,GAAI,EAAG,EAAG,CAAC,EAE/CF,EAAU,IAAM,CAEd,GAAI,CADOc,EAAO,QACT,OACT,IAAIK,EAAIC,EAAIC,EAAIC,EAAIC,EAAS,GAE7B,SAASC,EAAOxC,EAAG,CACFA,EAAE,OAAO,QAAQ,kBAAkB,IAElDuC,EAAS,GACTJ,EAAKnC,EAAE,QACPoC,EAAKpC,EAAE,QACPqC,EAAKJ,EAAI,EACTK,EAAKL,EAAI,EACTjC,EAAE,eAAe,EACnB,CACA,SAASyC,EAAOzC,EAAG,CACZuC,GACLL,EAAO,CAAE,EAAGG,GAAMrC,EAAE,QAAUmC,GAAK,EAAGG,GAAMtC,EAAE,QAAUoC,EAAI,CAAC,CAC/D,CACA,SAASM,GAAO,CACdH,EAAS,EACX,CAEA,cAAO,iBAAiB,YAAaC,CAAM,EAC3C,OAAO,iBAAiB,YAAaC,CAAM,EAC3C,OAAO,iBAAiB,UAAWC,CAAI,EAChC,IAAM,CACX,OAAO,oBAAoB,YAAaF,CAAM,EAC9C,OAAO,oBAAoB,YAAaC,CAAM,EAC9C,OAAO,oBAAoB,UAAWC,CAAI,CAC5C,CACF,EAAG,CAACT,CAAG,CAAC,EAER,IAAMpB,EAAWF,EAAW,GAAMD,EAAcC,EAAY,KAAK,QAAQ,CAAC,EAAI,MAExEgC,EAAO,CACX,IAAK,OAAO,cAAc,IAC1B,QAAS,OAAO,cAAc,QAC9B,SAAU,OAAO,cAAc,SAC/B,KAAM,OAAO,cAAc,KAC3B,QAAAhB,EACA,WAAYC,GAAc,OAC1B,UAAWC,EAAY,OAAOA,CAAS,EAAI,KAC3C,YAAanB,EAAcA,EAAY,QAAQ,CAAC,EAAI,MACpD,SAAUC,GAAY,EACtB,SAAUE,EAAW,IACrB,IAAAM,CACF,EAEA,SAASyB,GAAO,CACd,UAAU,UACP,UACC,KAAK,UACH,CACE,GAAGD,EACH,KAAM,IAAI,KAAK,EAAE,YAAY,CAC/B,EACA,KACA,CACF,CACF,EACC,MAAM,QAAQ,KAAK,CACxB,CAEA,OAAO/B,EACL,MACA,CACE,IAAKkB,EACL,UAAW,WAAWC,EAAM,SAAW,KACvC,MAAO,CAAE,KAAME,EAAI,EAAI,KAAM,IAAKA,EAAI,EAAI,IAAK,CACjD,EACArB,EACE,MACA,CAAE,UAAW,iBAAkB,EAC/BA,EAAE,SAAU,KAAM,SAAS,EAC3BA,EAAE,MAAO,CAAE,UAAW,iBAAkB,CAAC,EACzCA,EAAE,OAAQ,CAAE,UAAW,eAAgB,EAAG+B,EAAK,KAAO,KAAK,EAC3D/B,EACE,SACA,CAAE,UAAW,eAAgB,QAAS,IAAMoB,EAAO,CAACD,CAAG,EAAG,aAAc,UAAW,EACnF,QACF,CACF,EACAnB,EACE,MACA,CAAE,UAAW,eAAgB,EAC7BiC,EAAI,QAASF,EAAK,SAAW,KAAK,EAClCE,EAAI,OAAQF,EAAK,MAAQ,OAAO,EAChCE,EAAI,OAAQF,EAAK,UAAY,KAAK,EAClCE,EAAI,SAAUF,EAAK,UAAU,EAC7BA,EAAK,UAAYE,EAAI,QAASF,EAAK,UAAW,EAAI,EAAI,KACtDE,EAAI,WAAYF,EAAK,SAAW,GAAG,EACnCE,EAAI,UAAWF,EAAK,YAAc,GAAG,EACrCE,EAAI,WAAYF,EAAK,QAAQ,EAC7BE,EAAI,MAAO,OAAOF,EAAK,GAAG,CAAC,EAC3B/B,EACE,MACA,CAAE,UAAW,kBAAmB,EAChCA,EAAE,SAAU,CAAE,QAASgC,EAAM,UAAW,cAAe,EAAG,YAAY,EACtEhC,EACE,SACA,CACE,QAAS,IAAM,CACb,aAAa,QAAQ,SAAU,GAAG,EAClC,SAAS,OAAO,CAClB,EACA,UAAW,kCACb,EACA,SACF,CACF,CACF,CACF,EAEA,SAASiC,EAAIC,EAAOC,EAAOC,EAAO,CAChC,OAAO3D,EAAM,cACX,MACA,CAAE,UAAW,cAAe,EAC5BA,EAAM,cAAc,OAAQ,KAAMyD,CAAK,EACvCzD,EAAM,cAAc,OAAQ,CAAE,UAAW2D,EAAQ,eAAiB,EAAG,EAAGD,CAAK,CAC/E,CACF,CACF,CAGA,SAASE,GAAI,CAAE,YAAAC,EAAa,QAAAvB,CAAQ,EAAG,CACrC,GAAM,CAAE,UAAAX,EAAW,SAAAE,EAAU,OAAAD,EAAQ,cAAeL,CAAE,EAAIvB,EACpD,CAACsD,EAAMQ,CAAO,EAAIjC,EAASgC,GAAe,IAAI,EAC9C,CAACE,EAAOC,CAAQ,EAAInC,EAAS,IAAI,EACjC,CAACoC,EAAWC,CAAY,EAAIrC,EAAS,EAAK,EAC1C,CAACsC,EAAiBC,CAAkB,EAAIvC,EAAS,EAAK,EACtD,CAACwC,EAAgBC,CAAiB,EAAIzC,EAAS,IAAI,EACnD,CAAC0C,EAAYC,CAAa,EAAI3C,EAAS,CAAC,CAAC,EACzC,CAAC4C,EAAmBC,CAAoB,EAAI7C,EAAS,EAAK,EAC1D,CAAC8C,EAAaC,CAAc,EAAI/C,EAAS,IAAI,EAC7C,CAACU,EAAYsC,CAAa,EAAIhD,EAASgC,EAAc,SAAW,SAAS,EACzE,CAACrB,EAAWsC,CAAY,EAAIjD,EAAS,IAAI,EAC3C,CAACR,EAAa0D,CAAc,EAAIlD,EAAS,CAAC,EAC1C,CAACmD,EAAeC,CAAgB,EAAIpD,EAAS,EAAK,EAChDqD,EAAWtD,EAAO,IAAI,EACtBuD,EAAYvD,EAAO,IAAI,EAG7B,SAASwD,EAAUC,EAASC,EAAO,UAAW,CAC5C,OAAO,SAASD,EAASC,CAAI,CAC/B,CAGA3D,EAAU,IAAM,CACd,IAAM4D,EACJ,IAAI,gBAAgB,SAAS,MAAM,EAAE,IAAI,eAAe,IAAM,IAEhE,GAAIjC,GAAQ,CAACiC,EAAY,CACvB5F,EAAI,qCAAsC2D,CAAI,EAC9C,OAEF,GAAI,CAAChB,EAAS,CACZ0B,EAAS,oEAA+D,EACxE,QAGD,SAAY,CACX,GAAI,CACFrE,EAAI,wBAAyB2C,EAAS,aAAc1B,EAAW,KAAK,EACpEiE,EAAc,SAAS,EACnBjE,GAAW,MAAMC,EAAMD,CAAS,EAKpC,IAAM4E,EAAO,MAJH,MAAM,MACd,0BAA0B,mBAAmBlD,CAAO,IACpD,CAAE,YAAa,aAAc,CAC/B,GACqB,KAAK,EAC1B3C,EAAI,WAAY6F,CAAI,EACpB1B,EAAQ0B,CAAI,EACZX,EAAc,IAAI,CACpB,OAASlE,EAAP,CACAd,EAAI,aAAcc,CAAC,EACnBqD,EAAS,4BAA4B,EACrCc,EAAanE,GAAG,SAAW,OAAOA,CAAC,CAAC,EACpCkE,EAAc,OAAO,CACvB,CACF,GAAG,CACL,EAAG,CAACvC,CAAO,CAAC,EAGZX,EAAU,IAAM,CACd8D,EAAe,CACjB,EAAG,CAAC,CAAC,EAEL,eAAeA,GAAiB,CAC9B,GAAI,CACFf,EAAqB,EAAI,EAEzB,IAAMgB,EAAI,MAAM,MADJ,gCACe,CACzB,YAAa,cACb,QAAS,CACP,cAAe,OAAO,cAAc,OAAS,EAC/C,CACF,CAAC,EACD,GAAI,CAACA,EAAE,GACL,MAAM,IAAI,MAAM,2BAA2B,EAE7C,IAAMF,EAAO,MAAME,EAAE,KAAK,EACpBC,EAAiB,MAAM,QAAQH,CAAI,EAAIA,EAAQA,EAAK,YAAc,CAAC,EACzEhB,EAAcmB,CAAc,CAC9B,OAAShF,EAAP,CACAd,EAAI,wBAAyBc,CAAC,EAC9B6D,EAAc,CAAC,CAAC,CAClB,QAAE,CACAE,EAAqB,EAAK,CAC5B,CACF,CAGA/C,EAAU,IAAM,CACd,GAAI,CAAC2B,EAAM,OAEX,IAAMsC,EAASV,EAAS,QACxB,GAAI,CAACU,EAAQ,OAEb,IAAIC,EAAS,KACTC,EAAe,GAEnB,SAASC,GAAe,CACtB,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,GAAI,OAAO,OAAS,OAAO,MAAM,OAAQ,OAAOD,EAAQ,EACxD,IAAME,EAAW,SAAS,cAAc,sDAAsD,EAC9F,GAAIA,EAAU,CACZA,EAAS,iBAAiB,OAAQ,IAAMF,EAAQ,CAAC,EACjDE,EAAS,iBAAiB,QAAS,IAAMD,EAAO,IAAI,MAAM,0BAA0B,CAAC,CAAC,EACtF,OAEF,IAAME,EAAI,SAAS,cAAc,QAAQ,EACzCA,EAAE,IAAM,yCACRA,EAAE,MAAQ,GACVA,EAAE,OAAS,IAAMH,EAAQ,EACzBG,EAAE,QAAU,IAAMF,EAAO,IAAI,MAAM,0BAA0B,CAAC,EAC9D,SAAS,KAAK,YAAYE,CAAC,CAC7B,CAAC,CACH,CAEA,OAAC,SAAY,CACX,GAAI,CAEF,GADA,MAAMJ,EAAa,EACfD,EAAc,OAElBD,EAAS,IAAI,OAAO,MAAM,OAAOD,CAAM,EACvCT,EAAU,QAAUU,EACpBlG,EAAI,0BAA0B,EAG9BkG,EAAO,YAAY,EAAE,KAAMO,GAAM,CAC3B,CAAC,OAAO9C,GAAM,MAAM,UAAU,GAAK,OAAO8C,GAAM,UAAYA,EAAI,CAGtE,CAAC,EAAE,MAAM,IAAM,CAAC,CAAC,EAGjB,GAAI,CACF,MAAMP,EAAO,MAAM,EACdC,IACHb,EAAiB,EAAI,EACrBtF,EAAI,oBAAoB,EAE5B,OAASgB,EAAP,CACAd,EAAI,0BAA2Bc,CAAC,CAClC,CACAkF,EAAO,GAAG,aAAenG,GAAO,CAC1B,OAAOA,GAAI,SAAY,UACzBqF,EAAerF,EAAG,OAAO,CAE7B,CAAC,CACH,MAAE,CACAG,EAAI,uBAAuB,CAC7B,CACF,GAAG,EAEI,IAAM,CACXiG,EAAe,GACf,GAAI,CACED,GAAUA,EAAO,KAAKA,EAAO,IAAI,YAAY,EAC7CA,GAAUA,EAAO,SAASA,EAAO,QAAQ,CAC/C,MAAE,CAAW,CACbV,EAAU,QAAU,KACpBF,EAAiB,EAAK,CACxB,CACF,EAAG,CAAC3B,CAAI,CAAC,EAET,eAAe+C,EAAkBC,EAAY,IAAM,CACjD,IAAMC,EAAQ,KAAK,IAAI,EACvB,KAAO,KAAK,IAAI,EAAIA,EAAQD,GAAW,CACrC,IAAME,EAAIrB,EAAU,QACpB,GAAIqB,EACF,GAAI,CACF,aAAMA,EAAE,MAAM,EACdvB,EAAiB,EAAI,EACduB,CACT,MAAE,CAEF,CAEF,MAAM3F,EAAM,GAAG,EAEjB,MAAM,IAAI,MAAM,2BAA2B,CAC7C,CAEA,SAAS4F,GAAiBC,EAAW,CACnC,IAAMC,EAAOrD,GAAM,MAAQ,CAAC,EACtBsD,EAAW,OAAOD,EAAK,YAAc,CAAC,EACtCE,EAAY,OAAOF,EAAK,YAAc,CAAC,EAC7C,GAAIC,EAAW,GAAKC,EAAY,GAAKH,GAAa,EAAG,CACnD,IAAMI,EAAQ,KAAK,IAAI,EAAGJ,EAAYE,CAAQ,EAC9C,OAAO,KAAK,MAAMC,EAAYC,CAAK,EAErC,MAAO,EACT,CAEA,eAAeC,IAAuB,CACpC,GAAI,CACF7C,EAAa,EAAI,EACjBvE,EAAI,eAAe,EACnB,IAAMkG,EAAS,MAAMQ,EAAkB,EACvCxB,EAAc,UAAU,EACxB,GAAI,CACF,MAAMgB,EAAO,eAAe,CAAC,EAC7BlG,EAAI,aAAa,CACnB,OAASgB,EAAP,CACAd,EAAI,yBAA0Bc,CAAC,CACjC,CACA,GAAI,CACF,MAAMkF,EAAO,KAAK,EAClBlG,EAAI,kBAAkB,CACxB,OAASgB,EAAP,CACA,MAAAd,EAAI,iBAAkBc,CAAC,EACvByE,EAAU,8BAAgCzE,GAAG,SAAW,OAAOA,CAAC,GAAI,OAAO,EACrEA,CACR,CACA2D,EAAkB,IAAI,IAAM,EAC5BF,EAAmB,EAAI,EACvBS,EAAc,SAAS,CACzB,OAASlE,EAAP,CACAd,EAAI,wBAAyBc,CAAC,EAC9ByE,EAAU,4DAA6D,OAAO,EAC9EP,EAAc,OAAO,CACvB,QAAE,CACAX,EAAa,EAAK,CACpB,CACF,CAEA,eAAe8C,IAAwB,CACrC,GAAI,CACF9C,EAAa,EAAI,EACjBvE,EAAI,gBAAgB,EACpB,IAAMkG,EAAS,MAAMQ,EAAkB,EACvCxB,EAAc,UAAU,EACxB,GAAI,CACF,MAAMgB,EAAO,KAAK,EAClBlG,EAAI,kBAAkB,CACxB,OAASgB,EAAP,CACA,MAAAd,EAAI,wBAAyBc,CAAC,EAC9ByE,EAAU,+BAAiCzE,GAAG,SAAW,OAAOA,CAAC,GAAI,OAAO,EACtEA,CACR,CACAyD,EAAmB,EAAI,EACvBS,EAAc,SAAS,CACzB,OAASlE,EAAP,CACAd,EAAI,yBAA0Bc,CAAC,EAC/ByE,EAAU,4DAA6D,OAAO,EAC9EP,EAAc,OAAO,CACvB,QAAE,CACAX,EAAa,EAAK,CACpB,CACF,CAEA,eAAe+C,IAAuB,CACpC,GAAI,CACFtH,EAAI,eAAe,EACnB,IAAMkG,EAAS,MAAMQ,EAAkB,EACvC,GAAI,CACF,MAAMR,EAAO,MAAM,EACnBlG,EAAI,iBAAiB,CACvB,OAASgB,EAAP,CACA,MAAAd,EAAI,kBAAmBc,CAAC,EACxByE,EAAU,qBAAuBzE,GAAG,SAAW,OAAOA,CAAC,GAAI,OAAO,EAC5DA,CACR,CACAyD,EAAmB,EAAK,EACxBS,EAAc,QAAQ,CACxB,OAASlE,EAAP,CACAd,EAAI,sBAAuBc,CAAC,EAC5BkE,EAAc,OAAO,CACvB,CACF,CAEA,eAAeqC,IAAwB,CACrC,GAAI,CACFhD,EAAa,EAAI,EACjBvE,EAAI,gBAAgB,EACpB,IAAMkG,EAAS,MAAMQ,EAAkB,EACvCxB,EAAc,QAAQ,EACtB,GAAI,CACF,MAAMgB,EAAO,MAAM,EACnBlG,EAAI,6BAA6B,CACnC,OAASgB,GAAP,CACAd,EAAI,4BAA6Bc,EAAC,CACpC,CACA,IAAMM,EAAU,MAAM4E,EAAO,eAAe,EACtCa,EAAY,KAAK,IAAI,EAAG,KAAK,MAAMzF,GAAW,CAAC,CAAC,EAChDkG,EAAW9C,EAAiBA,EAAe,YAAY,EAAI,IAAI,KAAK,KAAK,IAAI,EAAIqC,EAAY,GAAI,EAAE,YAAY,EAC/GU,EAAYX,GAAiBC,CAAS,EAEtCW,EAAU,CACd,SAAU/D,EAAK,GACf,WAAYA,EAAK,OAAS,gBAC1B,cAAe,IAAI,KAAK,EAAE,YAAY,EACtC,WAAY6D,EACZ,WAAYT,EACZ,WAAYU,CACd,EACME,EAAQ,OAAO,cAAc,OAAS,GAExC1G,GAAW,MAAMC,EAAMD,CAAS,EAEpC,IAAM8E,EAAI,MAAM,MAAM,6BAA8B,CAClD,OAAQ,OACR,QAAS,CAAE,eAAgB,mBAAoB,aAAc4B,CAAM,EACnE,YAAa,cACb,KAAM,KAAK,UAAUD,CAAO,CAC9B,CAAC,EACD,GAAI,CAAC3B,EAAE,GAAI,CACT,IAAM3E,GAAM,MAAM2E,EAAE,KAAK,EACzB,MAAM,IAAI,MAAM3E,GAAI,SAAW,QAAQ2E,EAAE,QAAQ,EAEnD,IAAM3E,GAAM,MAAM2E,EAAE,KAAK,EACzBN,EAAU,iBAAiB,EAC3BP,EAAc,IAAI,EAClBT,EAAmB,EAAK,EACxBE,EAAkB,IAAI,EACtB,MAAMmB,EAAe,EACrB,OAAO,cAAc,IAAI,YAAY,sBAAsB,CAAC,CAC9D,OAAS9E,EAAP,CACAd,EAAI,8BAA+Bc,CAAC,EACpCyE,EAAU,6BAA+BzE,GAAG,SAAW,OAAOA,CAAC,GAAI,OAAO,EAC1EmE,EAAanE,GAAG,SAAW,OAAOA,CAAC,CAAC,EACpCkE,EAAc,OAAO,CACvB,QAAE,CACAX,EAAa,EAAK,CACpB,CACF,CAEA,eAAeqD,GAAeC,EAAY,CACxC,GAAI,CACF5C,EAAe4C,CAAU,EACzB3C,EAAc,WAAW,EACzB,IAAMa,EAAI,MAAM,MAAM,8BAA8B8B,WAAqB,CACvE,OAAQ,OACR,QAAS,CACP,eAAgB,mBAChB,aAAc,OAAO,cAAc,OAAS,EAC9C,EACA,YAAa,aACf,CAAC,EACKzG,EAAM,MAAM2E,EAAE,KAAK,EACzB,GAAI,CAACA,EAAE,GACL,MAAM,IAAI,MAAM3E,EAAI,SAAW,eAAe,EAEhDqE,EAAU,qBAAqB,EAC/BP,EAAc,IAAI,EAClB,MAAMY,EAAe,EACrB,OAAO,cAAc,IAAI,YAAY,sBAAsB,CAAC,CAC9D,OAAS9E,EAAP,CACAd,EAAI,sBAAuBc,CAAC,EAC5ByE,EAAU,gCAAkCzE,GAAG,SAAW,OAAOA,CAAC,GAAI,OAAO,EAC7EmE,EAAanE,GAAG,SAAW,OAAOA,CAAC,CAAC,EACpCkE,EAAc,OAAO,CACvB,QAAE,CACAD,EAAe,IAAI,CACrB,CACF,CAEA,GAAIb,EAAO,OAAOxC,EAAE,MAAO,CAAE,UAAW,qBAAsB,EAAG,OAAOwC,CAAK,CAAC,EAC9E,GAAI,CAACT,EAAM,OAAOtD,EAAM,cAAcyB,GAAS,IAAI,EAEnD,IAAMgG,GAAQnE,EAAK,OAAS,QACtBqD,EAAOrD,EAAK,MAAQ,CAAC,EACrBoE,GAAQf,EAAK,SAAW,OAAOA,EAAK,QAAQ,EAAI,GAChDrF,EAAW,OAAOqF,EAAK,YAAc,CAAC,EACtCgB,GAAa,CAAC,CAAE,OAAO,cAAc,KAE3C,OAAOpG,EACL,MACA,CAAE,UAAW,SAAU,EACvBA,EAAE,KAAM,KAAMkG,EAAK,EACnBC,GACInG,EACE,MACA,CAAE,UAAW,WAAY,EACzBA,EAAE,SAAU,CACV,IAAK2D,EACL,MAAO,IACP,OAAQ,IACR,IACE,kCACA,mBAAmBwC,EAAK,EACxB,0FACF,YAAa,EACb,MAAO,2CACP,gBAAiB,EACnB,CAAC,CACH,EACA,KACH,IAAI,gBAAgB,SAAS,MAAM,EAAE,IAAI,UAAU,IAAM,KAAO,OAAO,YAAc,IAAQ,aAAa,QAAQ,QAAQ,IAAM,IAC7HnG,EAAE,MAAO,CAAE,UAAW,UAAW,EAAGA,EAAE,MAAO,KAAM,KAAK,UAAUoF,EAAM,KAAM,CAAC,CAAC,CAAC,EACjF,KACJpF,EAAEH,GAAa,CAAE,MAAApB,EAAO,YAAAqB,EAAa,SAAAC,CAAS,CAAC,EAC/CC,EACE,MACA,CAAE,MAAO,CAAE,QAAS,OAAQ,IAAK,MAAO,SAAU,MAAO,CAAE,EAC1DoG,GA0BIxD,EAkDA,CACE5C,EACE,SACA,CACE,IAAK,QACL,UAAW,UACX,QAAS0F,GACP,SAAUhD,GAAa,CAACe,EAC1B,MAAO,CAAE,gBAAiB,SAAU,CACtC,EACA,OACF,EACAzD,EACE,SACA,CACE,IAAK,SACL,UAAW,UACX,QAAS2F,GACP,SAAUjD,GAAa,CAACe,EAC1B,MAAO,CAAE,gBAAiB,SAAU,CACtC,EACAf,EACI1C,EAAE,OAAQ,CAAE,UAAW,cAAe,cAAe,MAAO,CAAC,EAC7D,KACJ0C,EAAY,aAAe,eAC7B,CACF,EA1EE5C,EAAc,GAAKgD,IAAmB/C,IAAa,GAAKD,EAAcC,EAAW,IAC9E,CACEC,EACE,SACA,CACE,IAAK,SACL,UAAW,UACX,QAASyF,GACR,SAAU/C,GAAa,CAACe,CAC3B,EACAf,EAAY1C,EAAE,OAAQ,CAAE,UAAW,cAAe,cAAe,MAAO,CAAC,EAAI,KAC7E0C,EAAY,eAAiB,iBAC/B,EACA1C,EACE,SACA,CACE,IAAK,SACL,UAAW,UACX,QAAS2F,GACP,SAAUjD,GAAa,CAACe,EAC1B,MAAO,CAAE,gBAAiB,SAAU,CACtC,EACAf,EAAY1C,EAAE,OAAQ,CAAE,UAAW,cAAe,cAAe,MAAO,CAAC,EAAI,KAC7E0C,EAAY,aAAe,eAC7B,EACA1C,EACE,SACA,CACE,IAAK,UACL,UAAW,UACX,QAASwF,GACP,SAAU9C,GAAa,CAACe,EAC1B,MAAO,CAAE,gBAAiB,SAAU,CACtC,EACA,mBACF,CACF,EACCzD,EACE,SACA,CACE,UAAW,UACV,QAASwF,GACT,SAAU9C,GAAa,CAACe,CAC3B,EACAf,EAAY1C,EAAE,OAAQ,CAAE,UAAW,cAAe,cAAe,MAAO,CAAC,EAAI,KAC7E0C,EAAY,eAAiB,gBAC/B,EAxEL1C,EACE,MACA,CACE,MAAO,CACL,gBAAiB,UACjB,OAAQ,oBACR,QAAS,OACT,OAAQ,eACR,aAAc,MACd,MAAO,MACT,CACF,EACAA,EAAE,SAAU,KAAM,oCAA0B,EAC5CA,EACE,IACA,CAAE,MAAO,CAAE,OAAQ,cAAe,CAAE,EACpC,UACAA,EAAE,IAAK,CAAE,KAAM,SAAU,MAAO,CAAE,MAAO,UAAW,eAAgB,WAAY,CAAE,EAAG,QAAQ,EAC7F,sEACAA,EAAE,IAAK,CAAE,KAAM,YAAa,MAAO,CAAE,MAAO,UAAW,eAAgB,WAAY,CAAE,EAAG,eAAe,EACvG,GACF,CACF,CA+ER,EACA9B,EAAQ8B,EAAEc,GAAY,CAAE,MAAArC,EAAO,QAAAsC,EAAS,WAAAC,EAAY,UAAAC,EAAW,YAAAnB,EAAa,SAAAC,CAAS,CAAC,EAAI,IAC5F,CACF,CAGA,SAASsG,GAAa,CAAE,MAAA5H,EAAO,WAAAuE,EAAY,kBAAAE,EAAmB,eAAA8C,EAAgB,YAAA5C,CAAY,EAAG,CAC3F,GAAM,CAAE,SAAA9C,EAAU,cAAeN,CAAE,EAAIvB,EACjC,CAAC0C,EAAKC,CAAM,EAAId,EAAS,EAAK,EAG9BgG,EAAmBtD,EAAW,MAAM,EAAG,CAAC,EAE9C,OAAOhD,EACL,MACA,CACE,UAAW,uBACX,MAAO,CAAE,UAAW,OAAQ,OAAQ,oBAAqB,aAAc,MAAO,WAAY,OAAQ,QAAS,MAAO,CACpH,EACAA,EACE,MACA,CAAE,MAAO,CAAE,QAAS,OAAQ,WAAY,SAAU,eAAgB,gBAAiB,aAAc,MAAO,CAAE,EAC1GA,EAAE,KAAM,CAAE,MAAO,CAAE,OAAQ,EAAG,SAAU,SAAU,CAAE,EAAG,mBAAmB,EAC1EA,EACE,SACA,CACE,QAAS,IAAMoB,EAAO,CAACD,CAAG,EAC1B,MAAO,CAAE,SAAU,QAAS,WAAY,OAAQ,OAAQ,OAAQ,OAAQ,UAAW,MAAO,MAAO,EACjG,aAAcA,EAAM,SAAW,UACjC,EACAA,EAAM,SAAM,QACd,CACF,EACAA,EACI,KACA+B,EACAlD,EAAE,IAAK,CAAE,MAAO,CAAE,MAAO,MAAO,CAAE,EAAG,uBAAuB,EAC5DsG,EAAiB,SAAW,EAC5BtG,EAAE,IAAK,CAAE,MAAO,CAAE,MAAO,MAAO,CAAE,EAAG,wCAAwC,EAC7EA,EACE,MACA,KACAA,EACE,MACA,CAAE,UAAW,sBAAuB,MAAO,CAAE,aAAc,MAAO,CAAE,EACpEsG,EAAiB,IAAKC,GACpBvG,EAAEwG,GAAc,CACd,IAAKD,EAAS,GACd,SAAAA,EACA,eAAAP,EACA,UAAW5C,IAAgBmD,EAAS,GACpC,MAAA9H,EACA,QAAS,EACX,CAAC,CACH,CACF,EACAuB,EACE,MACA,CAAE,MAAO,CAAE,UAAW,SAAU,WAAY,SAAU,UAAW,mBAAoB,CAAE,EACvFA,EACE,IACA,CACE,KAAM,iBACN,MAAO,CAAE,MAAO,UAAW,eAAgB,OAAQ,SAAU,QAAS,CACxE,EACA,4BACF,CACF,CACF,CACN,CACF,CAGA,SAASwG,GAAa,CAAE,SAAAD,EAAU,eAAAP,EAAgB,UAAAS,EAAW,MAAAhI,EAAO,QAAAiI,EAAS,MAAAC,CAAM,EAAG,CACpF,GAAM,CAAE,cAAe3G,CAAE,EAAIvB,EACvB2G,EAAOmB,EAAS,MAAQ,CAAC,EACzBN,EAAaM,EAAS,GAEtBK,EAAexB,EAAK,qBAAqB,CAAC,GAAKA,EAAK,gBAAgB,CAAC,EACrEyB,EAAiBzB,EAAK,wBAAwB,CAAC,GAAKA,EAAK,qBAAqB,CAAC,EAC/E0B,EAAWF,IAAiB,KAAOA,IAAiB,EAEpDG,EAAW3B,EAAK,kBAAkB,CAAC,GAAKA,EAAK,aAAa,CAAC,GAAK,EAChErF,EAAWqF,EAAK,kBAAkB,CAAC,GAAKA,EAAK,aAAa,CAAC,GAAK,EAChErE,EAAUqE,EAAK,gBAAgB,CAAC,GAAKA,EAAK,WAAW,CAAC,EACtD4B,EAAY5B,EAAK,kBAAkB,CAAC,GAAKA,EAAK,aAAa,CAAC,GAAK,gBACjE6B,EAAe7B,EAAK,qBAAqB,CAAC,GAAKA,EAAK,gBAAgB,CAAC,GAAKmB,EAAS,MAAQ,GAG7FW,EAAgB,GACpB,GAAID,EACF,GAAI,CAEFC,EADa,IAAI,KAAKD,CAAY,EACb,mBAAmB,QAAS,CAAE,KAAM,UAAW,MAAO,QAAS,IAAK,SAAU,CAAC,CACtG,MAAE,CACAC,EAAgBD,CAClB,CAGF,IAAME,EAAgBD,EAAgB,GAAGF,MAAcE,KAAmBF,EAE1E,GAAIN,EAAS,CACX,GAAM,CAAE,SAAApG,CAAS,EAAI7B,EACf,CAAC2I,EAAaC,CAAc,EAAI/G,EAAS,EAAK,EAEpD,OAAIqG,EACK3G,EACL,MACA,CACE,UAAW,4BACX,MAAO,CACL,QAAS,UACT,aAAc,SACd,aAAc,MACd,WAAY,oDACZ,SAAU,SACV,SAAU,WACV,QAAS,GACT,OAAQ,iBACR,cAAe,MACjB,CACF,EACAA,EAAE,MAAO,CAAE,MAAO,CAAE,QAAS,OAAQ,eAAgB,gBAAiB,WAAY,SAAU,IAAK,QAAS,CAAE,EAC1GA,EAAE,MAAO,CAAE,MAAO,CAAE,KAAM,EAAG,SAAU,CAAE,CAAE,EACzCA,EAAE,MAAO,CAAE,MAAO,CAAE,WAAY,MAAO,aAAc,SAAU,CAAE,EAAGmH,CAAa,EACjFnH,EAAE,MAAO,CAAE,MAAO,CAAE,SAAU,UAAW,MAAO,MAAO,CAAE,EACvD+G,EAAW,GAAKA,EAAW,KAAM,QAAQ,CAAC,EAAI,MAAQ,GACtDA,EAAW,GAAKhH,EAAW,EAAI,SAAQ,GACvCA,EAAW,EAAI,KAAK,MAAMA,EAAW,EAAE,EAAI,OAAS,EACtD,CACF,EACAC,EAAE,MAAO,CAAE,MAAO,CAAE,QAAS,OAAQ,WAAY,SAAU,IAAK,SAAU,WAAY,CAAE,CAAE,EACxFA,EAAE,OAAQ,CAAE,MAAO,CAAE,MAAO,OAAQ,SAAU,SAAU,WAAY,EAAG,QAAS,OAAQ,WAAY,QAAS,EAAG,MAAO,SAAU,EAAG,QAAG,EACvIA,EAAE,MAAO,CAAE,MAAO,CAAE,MAAO,OAAQ,OAAQ,OAAQ,aAAc,MAAO,gBAAiB,UAAW,MAAO,OAAQ,QAAS,OAAQ,WAAY,SAAU,eAAgB,SAAU,WAAY,MAAO,CAAE,EAAG,GAAG,CACjN,CACF,CACF,EAGKA,EACL,MACA,CACE,UAAW,4BACX,MAAO,CACL,QAAS,UACT,aAAc,SACd,aAAc,MACd,gBAAiB,UACjB,SAAU,SACV,SAAU,UACZ,CACF,EACAA,EAAE,MAAO,CAAE,MAAO,CAAE,QAAS,OAAQ,eAAgB,gBAAiB,WAAY,SAAU,IAAK,QAAS,CAAE,EAC1GA,EAAE,MAAO,CAAE,MAAO,CAAE,KAAM,EAAG,SAAU,CAAE,CAAE,EACzCA,EAAE,MAAO,CAAE,MAAO,CAAE,WAAY,MAAO,aAAc,SAAU,CAAE,EAAGmH,CAAa,EACjFnH,EAAE,MAAO,CAAE,MAAO,CAAE,SAAU,UAAW,MAAO,MAAO,CAAE,EACvD+G,EAAW,GAAKA,EAAW,KAAM,QAAQ,CAAC,EAAI,MAAQ,GACtDA,EAAW,GAAKhH,EAAW,EAAI,SAAQ,GACvCA,EAAW,EAAI,KAAK,MAAMA,EAAW,EAAE,EAAI,OAAS,EACtD,CACF,EACAC,EAAE,MAAO,CAAE,MAAO,CAAE,QAAS,OAAQ,WAAY,SAAU,IAAK,SAAU,WAAY,CAAE,CAAE,EACxF8G,EACI9G,EAAE,OAAQ,CACR,MAAO,CACL,MAAO,UACP,SAAU,SACV,WAAY,EACZ,QAAS,OACT,WAAY,QACd,EACA,MAAO,kBACT,EAAG,QAAG,EACN,KACJA,EAAE,MAAO,CAAE,MAAO,CAAE,SAAU,UAAW,CAAE,EACzC8G,EACI9G,EACE,IACA,CACE,KAAM6G,EAAiB,qCAAuCA,EAAiB,IAC/E,OAAQ,SACR,IAAK,sBACL,MAAO,iBACP,MAAO,CACL,QAAS,OACT,WAAY,SACZ,eAAgB,SAChB,MAAO,OACP,OAAQ,OACR,aAAc,MACd,gBAAiB,UACjB,MAAO,QACP,eAAgB,OAChB,SAAU,SACV,WAAY,MACd,CACF,EACA,GACF,EACA7G,EACE,SACA,CACE,QAAUZ,GAAM,CACdA,EAAE,gBAAgB,EAClBiI,EAAe,CAACD,CAAW,CAC7B,EACA,SAAUX,EACV,MAAO,mBACP,MAAO,CACL,QAAS,OACT,WAAY,SACZ,eAAgB,SAChB,MAAO,OACP,OAAQ,OACR,aAAc,MACd,gBAAiBA,EAAY,OAAS,UACtC,MAAO,QACP,OAAQ,OACR,OAAQA,EAAY,OAAS,UAC7B,SAAU,SACV,WAAY,MACd,CACF,EACAA,EAAY,MAAQ,GACtB,EACJW,GAAe,CAACN,GAAY,CAACL,EACzBzG,EACE,MACA,CACE,MAAO,CACL,SAAU,WACV,MAAO,EACP,IAAK,sBACL,gBAAiB,QACjB,OAAQ,oBACR,aAAc,MACd,QAAS,UACT,UAAW,kEACX,OAAQ,IACR,SAAU,QACV,WAAY,QACd,CACF,EACAA,EAAE,MAAO,CAAE,MAAO,CAAE,SAAU,SAAU,aAAc,SAAU,MAAO,SAAU,CAAE,EAAG,mBAAmB,EACzGA,EAAE,MAAO,CAAE,MAAO,CAAE,QAAS,OAAQ,IAAK,QAAS,CAAE,EACnDA,EACE,SACA,CACE,QAAUZ,GAAM,CACdA,EAAE,gBAAgB,EAClBiI,EAAe,EAAK,EACpBrB,EAAeC,CAAU,CAC3B,EACA,MAAO,CACL,KAAM,EACN,QAAS,iBACT,gBAAiB,UACjB,MAAO,QACP,OAAQ,OACR,aAAc,MACd,OAAQ,UACR,SAAU,UACV,WAAY,KACd,CACF,EACA,QACF,EACAjG,EACE,SACA,CACE,QAAUZ,GAAM,CACdA,EAAE,gBAAgB,EAClBiI,EAAe,EAAK,CACtB,EACA,MAAO,CACL,KAAM,EACN,QAAS,iBACT,gBAAiB,UACjB,MAAO,UACP,OAAQ,OACR,aAAc,MACd,OAAQ,UACR,SAAU,SACZ,CACF,EACA,QACF,CACF,CACF,EACA,IACN,CACF,CACF,EACAD,EACIpH,EAAE,MAAO,CACP,MAAO,CACL,SAAU,QACV,MAAO,EACP,OAAQ,GACV,EACA,QAAS,IAAMqH,EAAe,EAAK,CACrC,CAAC,EACD,IACN,EAGF,OAAOrH,EACL,MACA,CACE,UAAW,oBACX,MAAO,CACL,OAAQ,iBACR,QAAS,OACT,aAAc,OACd,aAAc,MACd,gBAAiB8G,EAAW,UAAY,MAC1C,CACF,EACA9G,EAAE,MAAO,CAAE,MAAO,CAAE,QAAS,OAAQ,eAAgB,gBAAiB,WAAY,QAAS,CAAE,EAC3FA,EAAE,MAAO,KACPA,EAAE,SAAU,KAAMmH,CAAa,EAC/BnH,EAAE,MAAO,CAAE,MAAO,CAAE,UAAW,SAAU,SAAU,SAAU,MAAO,MAAO,CAAE,EAC3E+G,EAAW,EAAI/G,EAAE,OAAQ,KAAM,cAAgB+G,EAAW,KAAM,QAAQ,CAAC,EAAI,MAAM,EAAI,KACvFhH,EAAW,EAAIC,EAAE,OAAQ,KAAM,aAAe,KAAK,MAAMD,EAAW,EAAE,EAAI,MAAM,EAAI,IACtF,CACF,EACAC,EAAE,MAAO,KACP8G,EACI9G,EACE,MACA,CAAE,MAAO,CAAE,UAAW,OAAQ,CAAE,EAChCA,EAAE,OAAQ,CAAE,MAAO,CAAE,MAAO,UAAW,WAAY,MAAO,CAAE,EAAG,yBAAoB,EACnF6G,EACI7G,EACE,IACA,CACE,KAAM,qCAAuC6G,EAC7C,OAAQ,SACR,IAAK,sBACL,MAAO,CAAE,QAAS,QAAS,UAAW,UAAW,SAAU,SAAU,CACvE,EACA,uBACF,EACA,IACN,EACA7G,EACE,SACA,CACE,UAAW,yBACX,QAAS,IAAMgG,EAAeC,CAAU,EACxC,SAAUQ,EACV,MAAO,CACL,gBAAiB,UACjB,MAAO,QACP,OAAQ,OACR,QAAS,cACT,aAAc,MACd,OAAQA,EAAY,OAAS,UAC7B,QAASA,EAAY,GAAM,CAC7B,CACF,EACAA,EAAY,eAAiB,kBAC/B,CACN,CACF,CACF,CACF,CAGA,SAASa,IAAO,CACd,IAAMC,EAAQ,SAAS,eAAe,cAAc,EACpD,GAAIA,EAAO,CACT,IAAMC,EAAS,OAAO,mBAAqB,KACrCzG,EAAUwG,EAAM,aAAa,eAAe,GAAMC,GAAUA,EAAO,GACzEpJ,EAAI,uBAAmB2C,EAAS,kBAAmB,CAAC,CAACyG,CAAM,EAC3D3I,GAAWwD,GAAK,CAAE,YAAamF,EAAQ,QAAAzG,CAAQ,EAAGwG,CAAK,EAGrD,OAAO,sBAAwB,MAAM,QAAQ,OAAO,oBAAoB,GAC1E,OAAO,qBAAqB,QAASE,GAAY,CAC/C,IAAMC,EAAa,SAAS,eAAeD,CAAO,EAC9CC,IACFtJ,EAAI,kCAAmCqJ,CAAO,EAC9C5I,GAAW8I,GAAwB,CAAC,EAAGD,CAAU,EAErD,CAAC,CAEL,CAEA,SAASC,IAAyB,CAChC,GAAM,CAAE,SAAArH,EAAU,UAAAF,EAAW,cAAeJ,CAAE,EAAIvB,EAC5C,CAACuE,EAAYC,CAAa,EAAI3C,EAAS,CAAC,CAAC,EACzC,CAAC4C,EAAmBC,CAAoB,EAAI7C,EAAS,EAAK,EAC1D,CAAC8C,EAAaC,CAAc,EAAI/C,EAAS,IAAI,EAC7C8F,EAAa,CAAC,CAAE,OAAO,cAAc,KAE3ChG,EAAU,IAAM,CACd,GAAI,CAACgG,EAAY,OACjBlC,EAAe,EACf,IAAM0D,EAAuB,IAAM,CAC7B1J,GAAO,QAAQ,KAAK,4EAA4E,EACpGgG,EAAe,CACjB,EACA,cAAO,iBAAiB,uBAAwB0D,CAAoB,EAC7D,IAAM,CACX,OAAO,oBAAoB,uBAAwBA,CAAoB,CACzE,CACF,EAAG,CAAC,CAAC,EAEL,eAAe1D,GAAiB,CAC9B,GAAI,CACFf,EAAqB,EAAI,EAEzB,IAAMgB,EAAI,MAAM,MADJ,gCACe,CACzB,YAAa,cACb,QAAS,CACP,cAAe,OAAO,cAAc,OAAS,EAC/C,CACF,CAAC,EACD,GAAI,CAACA,EAAE,GACL,MAAM,IAAI,MAAM,2BAA2B,EAE7C,IAAMF,EAAO,MAAME,EAAE,KAAK,EACpBC,EAAiB,MAAM,QAAQH,CAAI,EAAIA,EAAQA,EAAK,YAAc,CAAC,EACzEhB,EAAcmB,CAAc,CAC9B,OAAShF,EAAP,CACAd,EAAI,wBAAyBc,CAAC,EAC9B6D,EAAc,CAAC,CAAC,CAClB,QAAE,CACAE,EAAqB,EAAK,CAC5B,CACF,CAEA,eAAe6C,EAAeC,EAAY,CACxC,GAAI,CACF5C,EAAe4C,CAAU,EACzB,IAAM9B,EAAI,MAAM,MAAM,8BAA8B8B,WAAqB,CACvE,OAAQ,OACR,QAAS,CACP,eAAgB,mBAChB,aAAc,OAAO,cAAc,OAAS,EAC9C,EACA,YAAa,aACf,CAAC,EACKzG,EAAM,MAAM2E,EAAE,KAAK,EACzB,GAAI,CAACA,EAAE,GACL,MAAM,IAAI,MAAM3E,EAAI,SAAW,eAAe,EAEhD,OAAO,SAAS,qBAAqB,EACrC,MAAM0E,EAAe,EACrB,OAAO,cAAc,IAAI,YAAY,sBAAsB,CAAC,CAC9D,OAAS9E,EAAP,CACAd,EAAI,sBAAuBc,CAAC,EAC5B,OAAO,SAAS,gCAAkCA,GAAG,SAAW,OAAOA,CAAC,GAAI,OAAO,CACrF,QAAE,CACAiE,EAAe,IAAI,CACrB,CACF,CAEA,GAAI,CAAC+C,EAAY,CACf,IAAMyB,EAAkB,MAAM,KAAK,CAAE,OAAQ,CAAE,CAAC,EAAE,IAAI,CAACC,EAAGC,KAAO,CAC/D,GAAI,SAAWA,EACf,KAAM,CACJ,gBAAiB,CAAC,iBAAmBA,EAAI,EAAE,EAC3C,mBAAoB,CAAC,IAAI,KAAK,KAAK,IAAI,EAAIA,EAAI,KAAQ,EAAE,YAAY,CAAC,EACtE,gBAAiB,CAAC,KAAK,MAAM,IAAO,KAAK,OAAO,EAAI,GAAI,CAAC,EACzD,gBAAiB,CAAC,KAAK,MAAM,KAAO,KAAK,OAAO,EAAI,IAAI,CAAC,CAC3D,CACF,EAAE,EACF,OAAO/H,EACL,MACA,CAAE,UAAW,uBAAwB,MAAO,CAAE,UAAW,OAAQ,OAAQ,oBAAqB,aAAc,MAAO,WAAY,OAAQ,QAAS,MAAO,CAAE,EACzJA,EAAE,KAAM,CAAE,MAAO,CAAE,UAAW,CAAE,CAAE,EAAG,eAAe,EACpDA,EACE,MACA,CAAE,UAAW,sBAAuB,MAAO,CAAE,aAAc,MAAO,CAAE,EACpE6H,EAAgB,IAAKtB,GACnBvG,EAAEwG,GAAc,CACd,IAAKD,EAAS,GACd,SAAAA,EACA,MAAA9H,EACA,QAAS,GACT,MAAO,EACT,CAAC,CACH,CACF,EACAuB,EACE,MACA,CAAE,MAAO,CAAE,UAAW,SAAU,MAAO,OAAQ,SAAU,UAAW,aAAc,QAAS,CAAE,EAC7F,wCACF,EACAA,EACE,MACA,CAAE,MAAO,CAAE,UAAW,QAAS,CAAE,EACjCA,EACE,IACA,CAAE,KAAM,SAAU,MAAO,CAAE,MAAO,UAAW,eAAgB,YAAa,YAAa,EAAG,CAAE,EAC5F,QACF,EACAA,EACE,IACA,CAAE,KAAM,YAAa,MAAO,CAAE,MAAO,UAAW,eAAgB,WAAY,CAAE,EAC9E,UACF,CACF,CACF,EAGF,OAAOA,EAAEqG,GAAc,CAAE,MAAA5H,EAAO,WAAAuE,EAAY,kBAAAE,EAAmB,eAAA8C,EAAgB,YAAA5C,CAAY,CAAC,CAC9F,CAGIlF,EACFE,EAAI,qBAAqB,EAEzB,SAAS,iBAAiB,UAAW,SAAUD,EAAI,CACjD,GAAIA,EAAG,MAAQ,IAAK,CAClB,IAAM6J,EAAM,IAAI,IAAI,SAAS,IAAI,EACjCA,EAAI,aAAa,IAAI,WAAY,GAAG,EACpC,SAAS,KAAOA,EAAI,SAAS,EAEjC,CAAC,EAGC,SAAS,aAAe,UAC1B,SAAS,iBAAiB,mBAAoBV,EAAI,EAElDA,GAAK,CAET,GAAG",
  "names": ["qs", "sel", "ctx", "param", "k", "DEBUG", "ev", "log", "args", "err", "hasWindowReact", "wpEl", "React", "ReactDOM", "tvsRoots", "hasCreateRoot", "mountReact", "Component", "props", "node", "existingRoot", "root", "legacyRender", "e", "slowParam", "delay", "ms", "res", "formatTime", "seconds", "mins", "secs", "ProgressBar", "currentTime", "duration", "h", "progress", "Loading", "useFPS", "useEffect", "useRef", "useState", "fps", "setFps", "lastTime", "frames", "raf", "tick", "t", "DevOverlay", "routeId", "lastStatus", "lastError", "boxRef", "min", "setMin", "pos", "setPos", "sx", "sy", "ox", "oy", "moving", "onDown", "onMove", "onUp", "data", "copy", "row", "label", "value", "isErr", "App", "initialData", "setData", "error", "setError", "isPosting", "setIsPosting", "isSessionActive", "setIsSessionActive", "sessionStartAt", "setSessionStartAt", "activities", "setActivities", "loadingActivities", "setLoadingActivities", "uploadingId", "setUploadingId", "setLastStatus", "setLastError", "setCurrentTime", "isPlayerReady", "setIsPlayerReady", "videoRef", "playerRef", "showFlash", "message", "type", "forceFetch", "json", "loadActivities", "r", "activitiesData", "iframe", "player", "unsubscribed", "loadVimeoAPI", "resolve", "reject", "existing", "s", "d", "ensurePlayerReady", "timeoutMs", "start", "p", "estimateDistance", "durationS", "meta", "routeDur", "routeDist", "ratio", "startActivitySession", "resumeActivitySession", "pauseActivitySession", "finishAndSaveActivity", "startISO", "distanceM", "payload", "nonce", "uploadToStrava", "activityId", "title", "vimeo", "isLoggedIn", "MyActivities", "recentActivities", "activity", "ActivityCard", "uploading", "compact", "dummy", "syncedStrava", "stravaRemoteId", "isSynced", "distance", "routeName", "activityDate", "formattedDate", "activityTitle", "showPopover", "setShowPopover", "boot", "mount", "inline", "mountId", "blockMount", "MyActivitiesStandalone", "handleActivityUpdate", "dummyActivities", "_", "i", "url"]
}
