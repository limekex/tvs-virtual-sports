{
  "version": 3,
  "sources": ["../../blocks/activity-comparison/view.js"],
  "sourcesContent": ["/**\n * Activity Comparison Block - Frontend View\n * Interactive comparison of two activities with search and mode switching\n */\n\nconst { createElement: h, useState, useEffect, useRef } = window.React;\nconst { createRoot } = window.ReactDOM;\n\n// Activity types supported\nconst ACTIVITY_TYPES = ['Run', 'Ride', 'Walk', 'Hike', 'Swim', 'Workout'];\n\n// Helper to decode HTML entities (global scope)\nconst decodeHTML = (html) => {\n  const txt = document.createElement('textarea');\n  txt.innerHTML = html;\n  return txt.value;\n};\n\n// Activity search component with AJAX dropdown\nconst ActivitySearchDropdown = ({ onSelect, userId, activityType, excludeId, placeholder }) => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [results, setResults] = useState([]);\n  const [isOpen, setIsOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const searchRef = useRef(null);\n\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      if (searchRef.current && !searchRef.current.contains(e.target)) {\n        setIsOpen(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  useEffect(() => {\n    if (searchTerm.length < 2) {\n      setResults([]);\n      return;\n    }\n\n    const timer = setTimeout(() => searchActivities(searchTerm), 300);\n    return () => clearTimeout(timer);\n  }, [searchTerm, activityType, userId]);\n\n  const searchActivities = async (term) => {\n    setLoading(true);\n    try {\n      const response = await fetch(\n        `${TVS_SETTINGS.restRoot}tvs/v1/activities/user/${userId}?per_page=50`,\n        { headers: { 'X-WP-Nonce': TVS_SETTINGS.nonce } }\n      );\n      \n      if (!response.ok) {\n        throw new Error('Failed to search activities');\n      }\n      const data = await response.json();\n      \n      // Helper to decode HTML entities\n      const decodeHTML = (html) => {\n        const txt = document.createElement('textarea');\n        txt.innerHTML = html;\n        return txt.value;\n      };\n      \n      // Filter by activity type and search term with relevance scoring\n      const filtered = (data.activities || []).filter(a => {\n        const matchesType = !activityType || a.activity_type === activityType;\n        const decodedTitle = decodeHTML(a.title || '');\n        const titleLower = decodedTitle.toLowerCase();\n        const activityTypeLower = (a.activity_type || '').toLowerCase();\n        const searchLower = term.toLowerCase();\n        \n        // Check if the entire search phrase matches first (highest relevance)\n        const exactMatch = titleLower.includes(searchLower) || activityTypeLower.includes(searchLower);\n        \n        // Split search terms by space and count matches\n        const searchTerms = searchLower.split(/\\s+/).filter(t => t.length > 0);\n        let matchCount = 0;\n        searchTerms.forEach(searchTerm => {\n          if (titleLower.includes(searchTerm)) matchCount++;\n          if (activityTypeLower.includes(searchTerm)) matchCount++;\n        });\n        \n        // Store match count for sorting\n        a._relevance = exactMatch ? 1000 + matchCount : matchCount;\n        \n        const matchesTerm = matchCount > 0;\n        const notExcluded = !excludeId || a.id !== excludeId;\n        const hasDuration = a.duration_s > 0;\n        \n        return matchesType && matchesTerm && notExcluded && hasDuration;\n      });\n      \n      // Sort by relevance first, then by date descending (newest first)\n      filtered.sort((a, b) => {\n        if (b._relevance !== a._relevance) {\n          return b._relevance - a._relevance; // Higher relevance first\n        }\n        return new Date(b.date) - new Date(a.date); // Then newest first\n      });\n      \n      setResults(filtered);\n      setIsOpen(filtered.length > 0);\n    } catch (err) {\n      console.error('Search error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSelect = (activity) => {\n    onSelect(activity);\n    // Decode HTML entities for display\n    setSearchTerm(decodeHTML(activity.title));\n    setIsOpen(false);\n  };\n\n  return h('div', { className: 'tvs-activity-search', ref: searchRef }, [\n    h('input', {\n      key: 'search-input',\n      type: 'text',\n      className: 'tvs-activity-search__input',\n      placeholder: placeholder || 'Search activities...',\n      value: searchTerm,\n      onChange: (e) => setSearchTerm(e.target.value),\n      onFocus: () => results.length > 0 && setIsOpen(true),\n    }),\n    loading && h('span', { key: 'loading', className: 'tvs-activity-search__loading' }, '\uD83D\uDD0D'),\n    isOpen && results.length > 0 && h('ul', { key: 'results-list', className: 'tvs-activity-search__results' },\n      results.map(activity => \n        h('li', {\n          key: activity.id,\n          className: 'tvs-activity-search__result',\n          onClick: () => handleSelect(activity),\n        }, [\n          h('div', { key: 'title', className: 'tvs-activity-search__result-title' }, decodeHTML(activity.title)),\n          h('div', { key: 'meta', className: 'tvs-activity-search__result-meta' }, \n            `${activity.activity_type} \u2022 ${new Date(activity.date).toLocaleDateString()} \u2022 ${formatDuration(activity.duration_s)}`\n          ),\n        ])\n      )\n    ),\n  ]);\n};\n\n// Mode switch component\nconst ModeSwitch = ({ currentMode, onChange }) => {\n  return h('div', { className: 'tvs-mode-switch' }, [\n    h('button', {\n      key: 'manual',\n      className: `tvs-mode-switch__btn ${currentMode === 'manual' ? 'tvs-mode-switch__btn--active' : ''}`,\n      onClick: () => onChange('manual'),\n    }, '\u2699\uFE0F Manual'),\n    h('button', {\n      key: 'vs-best',\n      className: `tvs-mode-switch__btn ${currentMode === 'vs-best' ? 'tvs-mode-switch__btn--active' : ''}`,\n      onClick: () => onChange('vs-best'),\n    }, '\uD83C\uDFC6 Latest vs Best'),\n  ]);\n};\n\n// Main component\nconst ActivityComparison = ({ userId, mode: initialMode, activityId1, activityId2, routeId, title }) => {\n  const [mode, setMode] = useState(initialMode || 'vs-best');\n  const [activity1, setActivity1] = useState(null);\n  const [activity2, setActivity2] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [selectedActivity1, setSelectedActivity1] = useState(null);\n  const [selectedActivity2, setSelectedActivity2] = useState(null);\n  const [selectedActivityType, setSelectedActivityType] = useState('all');\n  const [availableTypes, setAvailableTypes] = useState([]);\n\n  // Route context: show vs-previous automatically\n  const isRouteContext = !!routeId;\n\n  useEffect(() => {\n    if (mode === 'manual') {\n      if (selectedActivity1 && selectedActivity2) {\n        setActivity1(selectedActivity1);\n        setActivity2(selectedActivity2);\n        setError(null);\n      } else {\n        setActivity1(null);\n        setActivity2(null);\n      }\n    } else {\n      fetchActivities();\n    }\n  }, [mode, selectedActivity1, selectedActivity2, routeId, userId, selectedActivityType]);\n\n  const fetchActivities = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      if (isRouteContext) {\n        await fetchVsPreviousMode();\n      } else if (mode === 'vs-best') {\n        await fetchVsBestMode();\n      }\n    } catch (err) {\n      setError(err.message);\n      setActivity1(null);\n      setActivity2(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchVsBestMode = async () => {\n    // Fetch all activities to get available types and find best\n    const allResponse = await fetch(\n      `${TVS_SETTINGS.restRoot}tvs/v1/activities/user/${userId}?per_page=100`,\n      { headers: { 'X-WP-Nonce': TVS_SETTINGS.nonce } }\n    );\n    \n    if (!allResponse.ok) throw new Error('Failed to fetch activities');\n    const allData = await allResponse.json();\n    let allActivities = (allData.activities || []).filter(a => a.duration_s > 0);\n\n    if (allActivities.length === 0) throw new Error('No activities found');\n\n    // Get unique activity types\n    const types = [...new Set(allActivities.map(a => a.activity_type))].sort();\n    setAvailableTypes(types);\n\n    // Filter by selected type (if not 'all')\n    if (selectedActivityType !== 'all') {\n      allActivities = allActivities.filter(a => a.activity_type === selectedActivityType);\n      if (allActivities.length === 0) {\n        throw new Error(`No ${selectedActivityType} activities found`);\n      }\n    }\n\n    // Get latest activity of selected type (create new sorted array to avoid mutation)\n    const sortedByDate = [...allActivities].sort((a, b) => new Date(b.date) - new Date(a.date));\n    const latest = sortedByDate[0];\n\n    // Filter: same activity type, exclude latest itself\n    let comparableActivities = allActivities.filter(a => \n      a.activity_type === latest.activity_type &&\n      a.id !== latest.id // Exclude the latest activity itself\n    );\n\n    // Only filter by route if latest has a route AND we want route-specific comparison\n    // For vs-best mode without route context, we want ALL activities of same type\n    if (latest.route_id && isRouteContext) {\n      comparableActivities = comparableActivities.filter(a => a.route_id === latest.route_id);\n    }\n\n    // Find personal best based on activity type\n    let best;\n    if (latest.activity_type === 'Workout') {\n      // Workout: longest duration is best\n      const sortedByDuration = [...comparableActivities].sort((a, b) => b.duration_s - a.duration_s);\n      best = sortedByDuration[0];\n    } else if (latest.activity_type === 'Swim') {\n      // Swim: fastest pace per lap is best (lowest seconds per lap)\n      const withPace = comparableActivities.filter(a => a.laps > 0);\n      const sortedByPace = [...withPace].sort((a, b) => {\n        const paceA = a.duration_s / a.laps;\n        const paceB = b.duration_s / b.laps;\n        return paceA - paceB; // Lower pace = faster\n      });\n      best = sortedByPace[0];\n    } else {\n      // Run/Ride/Walk/Hike: fastest average speed is best\n      const withDistance = comparableActivities.filter(a => a.distance_m > 0 && a.duration_s > 0);\n      const sortedBySpeed = [...withDistance].sort((a, b) => {\n        const speedA = (a.distance_m / 1000) / (a.duration_s / 3600); // km/h\n        const speedB = (b.distance_m / 1000) / (b.duration_s / 3600);\n        return speedB - speedA; // Higher speed = better\n      });\n      best = sortedBySpeed[0];\n    }\n\n    if (!best) {\n      // This is the only activity or the best one\n      setActivity1(latest);\n      setActivity2(latest);\n      setError('\uD83C\uDFC6 This is your best (or only) activity of this type!');\n      return;\n    }\n\n    setActivity1(latest);\n    setActivity2(best);\n  };\n\n  const fetchVsPreviousMode = async () => {\n    if (!routeId) throw new Error('Route ID required');\n\n    // Fetch all activities on this route\n    const response = await fetch(\n      `${TVS_SETTINGS.restRoot}tvs/v1/activities/user/${userId}?route_id=${routeId}&per_page=50`,\n      { headers: { 'X-WP-Nonce': TVS_SETTINGS.nonce } }\n    );\n    \n    if (!response.ok) throw new Error('Failed to fetch route activities');\n    const data = await response.json();\n    let activities = (data.activities || []).filter(a => a.duration_s > 0);\n\n    if (activities.length === 0) {\n      throw new Error('No activities on this route yet');\n    }\n\n    // Get latest activity (most recent date)\n    const sortedByDate = [...activities].sort((a, b) => new Date(b.date) - new Date(a.date));\n    const latest = sortedByDate[0];\n\n    if (activities.length < 2) {\n      setActivity1(latest);\n      setActivity2(latest);\n      setError('\uD83C\uDFC6 This is your only activity on this route!');\n      return;\n    }\n\n    // Find best (fastest) activity on this route, excluding latest\n    const comparableActivities = activities.filter(a => a.id !== latest.id);\n    \n    // For this route: fastest average speed is best\n    const withDistance = comparableActivities.filter(a => a.distance_m > 0 && a.duration_s > 0);\n    \n    const sortedBySpeed = [...withDistance].sort((a, b) => {\n      const speedA = (a.distance_m / 1000) / (a.duration_s / 3600); // km/h\n      const speedB = (b.distance_m / 1000) / (b.duration_s / 3600);\n      return speedB - speedA; // Higher speed = better\n    });\n    const best = sortedBySpeed[0];\n\n    if (!best) {\n      setActivity1(latest);\n      setActivity2(latest);\n      setError('\uD83C\uDFC6 This is your best activity on this route!');\n      return;\n    }\n\n    setActivity1(latest);\n    setActivity2(best);\n  };\n\n  // Render\n  if (loading) {\n    return h('div', { className: 'tvs-loading' },\n      h('div', { className: 'tvs-spinner' }),\n      h('p', null, 'Loading comparison...')\n    );\n  }\n\n  return h('div', { className: 'tvs-comparison' }, [\n    h('h2', { key: 'title', className: 'tvs-comparison__title' }, title || 'Activity Comparison'),\n    \n    // Mode switch (only if not in route context)\n    !isRouteContext && h(ModeSwitch, {\n      key: 'mode-switch',\n      currentMode: mode,\n      onChange: (newMode) => {\n        setMode(newMode);\n        setError(null);\n        setSelectedActivity1(null);\n        setSelectedActivity2(null);\n      },\n    }),\n    \n    // Activity type filter for vs-best mode\n    mode === 'vs-best' && !isRouteContext && availableTypes.length > 0 && h('div', { key: 'type-filter', className: 'tvs-comparison__type-filter' }, [\n      h('label', { key: 'label' }, 'Activity Type:'),\n      h('select', { \n        key: 'select',\n        value: selectedActivityType,\n        onChange: (e) => setSelectedActivityType(e.target.value),\n        className: 'tvs-comparison__type-select'\n      }, [\n        h('option', { key: 'all', value: 'all' }, 'All Types'),\n        ...availableTypes.map(type => \n          h('option', { key: type, value: type }, type)\n        )\n      ])\n    ]),\n    \n    // Route badge\n    isRouteContext && h('div', { key: 'route-badge', className: 'tvs-comparison__route-badge' },\n      '\uD83D\uDCCD Your performance on this route'\n    ),\n    \n    // Manual mode controls\n    mode === 'manual' && !isRouteContext && h('div', { key: 'manual-controls', className: 'tvs-comparison__manual-controls' }, [\n      h('p', { key: 'instructions', className: 'tvs-comparison__instructions' }, \n        'Search by activity title or route name. Activities will be filtered by the same type for meaningful comparisons.'\n      ),\n      h('div', { key: 'search-1', className: 'tvs-comparison__search-group' }, [\n        h('label', { key: 'label-1' }, 'Activity 1:'),\n        h(ActivitySearchDropdown, {\n          key: 'dropdown-1',\n          userId,\n          activityType: selectedActivity1?.activity_type,\n          excludeId: selectedActivity2?.id,\n          onSelect: setSelectedActivity1,\n          placeholder: 'Type at least 2 characters to search...',\n        }),\n      ]),\n      h('div', { key: 'search-2', className: 'tvs-comparison__search-group' }, [\n        h('label', { key: 'label-2' }, 'Activity 2:'),\n        h(ActivitySearchDropdown, {\n          key: 'dropdown-2',\n          userId,\n          activityType: selectedActivity1?.activity_type, // Same type\n          excludeId: selectedActivity1?.id,\n          onSelect: setSelectedActivity2,\n          placeholder: selectedActivity1 ? 'Search for second activity...' : 'Select first activity first',\n        }),\n        !selectedActivity1 && h('p', { key: 'first-activity-hint', className: 'tvs-comparison__hint' },\n          '\uD83D\uDCA1 Select an activity above first'\n        ),\n      ]),\n      selectedActivity1 && selectedActivity2 && \n        selectedActivity1.activity_type !== selectedActivity2.activity_type &&\n        h('div', { key: 'type-mismatch-warning', className: 'tvs-comparison__warning' },\n          '\u26A0\uFE0F Comparing different activity types is not meaningful'\n        ),\n    ]),\n\n    // Info/error messages\n    error && !activity2 && h('div', { key: 'info', className: 'tvs-comparison__info' },\n      h('p', null, '\u2139\uFE0F ', error)\n    ),\n\n    // Empty state for manual mode\n    mode === 'manual' && !activity1 && !loading && h('div', { key: 'empty-state', className: 'tvs-empty-state' },\n      h('p', null, '\uD83D\uDC46 Select two activities above to compare')\n    ),\n\n    // Comparison table\n    activity1 && activity2 && h('div', { key: 'comparison-table' }, renderComparisonTable(activity1, activity2)),\n  ]);\n\n  function renderComparisonTable(act1, act2) {\n    // Different metrics for different activity types\n    const activityType = act1.activity_type;\n    let metrics;\n\n    if (activityType === 'Swim') {\n      // Swim-specific metrics: laps and pace per lap\n      metrics = [\n        { key: 'laps', label: 'Laps', format: (v) => v || 'N/A', lowerIsBetter: false },\n        { key: 'duration_s', label: 'Duration', format: formatDuration, lowerIsBetter: true },\n        { key: 'pace_per_lap', label: 'Pace per Lap', format: formatDuration, lowerIsBetter: true, computed: true },\n        { key: 'distance_m', label: 'Distance', format: formatDistance, lowerIsBetter: false },\n        { key: 'rating', label: 'Rating', format: (v) => v ? `${v}/10` : 'N/A', lowerIsBetter: false },\n      ];\n    } else if (activityType === 'Workout') {\n      // Workout-specific metrics (no distance/pace/speed)\n      metrics = [\n        { key: 'duration_s', label: 'Duration', format: formatDuration, lowerIsBetter: false }, // Longer workout = better\n        { key: 'sets', label: 'Sets', format: (v) => v || 'N/A', lowerIsBetter: false },\n        { key: 'reps', label: 'Reps', format: (v) => v || 'N/A', lowerIsBetter: false },\n        { key: 'weight', label: 'Weight (kg)', format: (v) => v ? `${v} kg` : 'N/A', lowerIsBetter: false },\n        { key: 'rating', label: 'Rating', format: (v) => v ? `${v}/10` : 'N/A', lowerIsBetter: false },\n      ];\n    } else {\n      // Default metrics for Run, Ride, Walk, Hike\n      metrics = [\n        { key: 'distance_m', label: 'Distance', format: formatDistance, lowerIsBetter: false },\n        { key: 'duration_s', label: 'Duration', format: formatDuration, lowerIsBetter: true },\n        { key: 'pace', label: 'Pace', format: formatPace, lowerIsBetter: true, computed: true },\n        { key: 'speed', label: 'Speed', format: formatSpeed, lowerIsBetter: false, computed: true },\n        { key: 'rating', label: 'Rating', format: (v) => v ? `${v}/10` : 'N/A', lowerIsBetter: false },\n      ];\n    }\n\n    return h('div', { className: 'tvs-comparison__container' }, [\n      // Column headers with activity info\n      h('div', { key: 'header-row', className: 'tvs-comparison__header-row' }, [\n        h('div', { key: 'label-header', className: 'tvs-comparison__header-label' }, 'Metric'),\n        h('div', { key: 'activity1-header', className: 'tvs-comparison__header-activity' }, [\n          h('div', { key: 'title', className: 'tvs-comparison__header-title' }, decodeHTML(act1.title)),\n          h('div', { key: 'date', className: 'tvs-comparison__header-date' }, \n            new Date(act1.date).toLocaleDateString('en-US', { \n              month: 'short', day: 'numeric', year: 'numeric' \n            })\n          ),\n        ]),\n        h('div', { key: 'diff-header', className: 'tvs-comparison__header-diff' }, 'Change'),\n        h('div', { key: 'activity2-header', className: 'tvs-comparison__header-activity' }, [\n          h('div', { key: 'title', className: 'tvs-comparison__header-title' }, decodeHTML(act2.title)),\n          h('div', { key: 'date', className: 'tvs-comparison__header-date' }, \n            new Date(act2.date).toLocaleDateString('en-US', { \n              month: 'short', day: 'numeric', year: 'numeric' \n            })\n          ),\n        ]),\n      ]),\n\n      // Metrics table\n      h('div', { key: 'metrics-table', className: 'tvs-comparison__table' },\n        metrics.map(metric => {\n          const val1 = metric.computed ? computeMetric(act1, metric.key) : act1[metric.key];\n          const val2 = metric.computed ? computeMetric(act2, metric.key) : act2[metric.key];\n          const diff = calculateDifference(val1, val2, metric.lowerIsBetter);\n\n          return h('div', { key: metric.key, className: 'tvs-comparison__row' }, [\n            h('div', { key: 'label', className: 'tvs-comparison__label' }, metric.label),\n            h('div', { key: 'val1', className: 'tvs-comparison__value' }, metric.format(val1)),\n            h('div', { key: 'diff', className: `tvs-comparison__difference tvs-comparison__difference--${diff.type}` }, \n              diff.icon ? `${diff.icon} ${diff.text}` : diff.text\n            ),\n            h('div', { key: 'val2', className: 'tvs-comparison__value' }, metric.format(val2)),\n          ]);\n        })\n      ),\n    ]);\n  }\n};\n\n// Helper functions\nfunction computeMetric(activity, key) {\n  if (key === 'pace') {\n    const distance_km = activity.distance_m / 1000;\n    const duration_min = activity.duration_s / 60;\n    return distance_km > 0 ? duration_min / distance_km : null;\n  } else if (key === 'speed') {\n    const distance_km = activity.distance_m / 1000;\n    const duration_h = activity.duration_s / 3600;\n    return duration_h > 0 ? distance_km / duration_h : null;\n  } else if (key === 'pace_per_lap') {\n    // Swim: time per lap (in seconds)\n    const laps = activity.laps || 0;\n    return laps > 0 ? activity.duration_s / laps : null;\n  }\n  return null;\n}\n\nfunction calculateDifference(val1, val2, lowerIsBetter) {\n  if (!val1 || !val2) {\n    return { text: 'N/A', type: 'neutral', icon: null };\n  }\n\n  const diff = val1 - val2;\n  const percentDiff = Math.abs((diff / val2) * 100);\n\n  if (percentDiff < 0.5) {\n    return { text: 'Same', type: 'neutral', icon: '=' };\n  }\n\n  const isImprovement = lowerIsBetter ? diff < 0 : diff > 0;\n\n  if (isImprovement) {\n    return { \n      text: `${percentDiff.toFixed(1)}%`, \n      type: 'positive', \n      icon: '\u25B2' \n    };\n  } else {\n    return { \n      text: `${percentDiff.toFixed(1)}%`, \n      type: 'negative', \n      icon: '\u25BC' \n    };\n  }\n}\n\nfunction formatDistance(meters) {\n  return meters ? `${(meters / 1000).toFixed(2)} km` : 'N/A';\n}\n\nfunction formatDuration(seconds) {\n  if (!seconds) return 'N/A';\n  const hours = Math.floor(seconds / 3600);\n  const minutes = Math.floor((seconds % 3600) / 60);\n  const secs = Math.floor(seconds % 60);\n  return hours > 0 \n    ? `${hours}:${String(minutes).padStart(2, '0')}:${String(secs).padStart(2, '0')}`\n    : `${minutes}:${String(secs).padStart(2, '0')}`;\n}\n\nfunction formatPace(pace) {\n  if (!pace || pace === Infinity) return 'N/A';\n  const minutes = Math.floor(pace);\n  const seconds = Math.round((pace % 1) * 60);\n  return `${minutes}:${String(seconds).padStart(2, '0')} /km`;\n}\n\nfunction formatSpeed(speed) {\n  return speed ? `${speed.toFixed(2)} km/h` : 'N/A';\n}\n\n// Mount component\ndocument.addEventListener('DOMContentLoaded', () => {\n  document.querySelectorAll('.tvs-comparison-block').forEach(el => {\n    const userId = parseInt(el.dataset.userId) || 0;\n    const mode = el.dataset.mode || 'vs-best';\n    const activityId1 = parseInt(el.dataset.activityId1) || 0;\n    const activityId2 = parseInt(el.dataset.activityId2) || 0;\n    const routeId = parseInt(el.dataset.routeId) || 0;\n    const title = el.dataset.title || 'Activity Comparison';\n\n    const root = createRoot(el);\n    root.render(\n      h(ActivityComparison, {\n        userId,\n        mode,\n        activityId1,\n        activityId2,\n        routeId,\n        title\n      })\n    );\n  });\n});\n"],
  "mappings": "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",
  "names": ["h", "useState", "useEffect", "useRef", "createRoot", "decodeHTML", "html", "txt", "ActivitySearchDropdown", "onSelect", "userId", "activityType", "excludeId", "placeholder", "searchTerm", "setSearchTerm", "useState", "results", "setResults", "isOpen", "setIsOpen", "loading", "setLoading", "searchRef", "useRef", "useEffect", "handleClickOutside", "e", "timer", "searchActivities", "term", "response", "data", "filtered", "a", "matchesType", "titleLower", "activityTypeLower", "searchLower", "exactMatch", "searchTerms", "t", "matchCount", "matchesTerm", "notExcluded", "hasDuration", "b", "err", "handleSelect", "activity", "h", "formatDuration", "ModeSwitch", "currentMode", "onChange", "ActivityComparison", "initialMode", "activityId1", "activityId2", "routeId", "title", "mode", "setMode", "activity1", "setActivity1", "activity2", "setActivity2", "error", "setError", "selectedActivity1", "setSelectedActivity1", "selectedActivity2", "setSelectedActivity2", "selectedActivityType", "setSelectedActivityType", "availableTypes", "setAvailableTypes", "isRouteContext", "fetchActivities", "fetchVsPreviousMode", "fetchVsBestMode", "allResponse", "allActivities", "types", "latest", "comparableActivities", "best", "paceA", "paceB", "speedA", "activities", "newMode", "type", "renderComparisonTable", "act1", "act2", "metrics", "v", "formatDistance", "formatPace", "formatSpeed", "metric", "val1", "computeMetric", "val2", "diff", "calculateDifference", "key", "distance_km", "duration_min", "duration_h", "laps", "lowerIsBetter", "percentDiff", "meters", "seconds", "hours", "minutes", "secs", "pace", "speed", "el", "createRoot"]
}
